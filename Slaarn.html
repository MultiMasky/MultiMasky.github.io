<!DOCTYPE html>
<!--[if lte IE 8]> <html class="lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html> <!--<![endif]-->
<head>
<meta charset="utf-8">
<!--
Made in Twine 1.4.1 (running on Windows 8)
Built on 05 Sep 2017 at 16:38:26, GMT Summer Time

Sugarcane is based on:

TiddlyWiki 1.2.39 by Jeremy Ruston, (jeremy [at] osmosoft [dot] com)

Published under a BSD open source license

Copyright (c) Osmosoft Limited 2005

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.

Redistributions in binary form must reproduce the above copyright notice, this
list of conditions and the following disclaimer in the documentation and/or other
materials provided with the distribution.

Neither the name of the Osmosoft Limited nor the names of its contributors may be
used to endorse or promote products derived from this software without specific
prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.
-->
<title>Sugarcane</title>
<script title="engine">
(function(){

function clone(a){var b={};if(!a||typeof a!="object"){return a}for(var property in a){if(typeof a[property]=="object"){try{b[property]=JSON.parse(JSON.stringify(a[property]));continue}catch(e){}}b[property]=a[property]}return b}function insertElement(a,d,f,c,e){var b=document.createElement(d);if(f){b.id=f}if(c){b.className=c}if(e){insertText(b,e)}if(a){a.appendChild(b)}return b}function insertText(a,b){return a.appendChild(document.createTextNode(b))}function removeChildren(a){while(a.hasChildNodes()){a.removeChild(a.firstChild)}}function findPassageParent(el){while(el&&el!=document.body&&!~el.className.indexOf("passage")){el=el.parentNode}return el==document.body?null:el}function setPageElement(c,b,a){var place;if(place=(typeof c=="string"?document.getElementById(c):c)){removeChildren(place);if(tale.has(b)){new Wikifier(place,tale.get(b).processText())}else{new Wikifier(place,a)}}}function addStyle(b){if(document.createStyleSheet){document.getElementsByTagName("head")[0].insertAdjacentHTML("beforeEnd","&nbsp;<style>"+b+"</style>")}else{var a=document.createElement("style");a.appendChild(document.createTextNode(b));document.getElementsByTagName("head")[0].appendChild(a)}}function alterCSS(text){var imgPassages=tale.lookup("tags","Twine.image");text=text.replace(/\/\*(?:[^\*]|\*(?!\/))*\*\//g,"");text=text.replace(/:link/g,"[class*=Link]");text=text.replace(/:visited/g,".visitedLink");return text.replace(new RegExp(Wikifier.imageFormatter.lookahead,"gim"),function(m,p1,p2,p3,src){for(var i=0;i<imgPassages.length;i++){if(imgPassages[i].title==src){src=imgPassages[i].text;break}}return"url("+src+")"})}function setTransitionCSS(styleText){styleText=alterCSS(styleText);var style=document.getElementById("transitionCSS");style.styleSheet?(style.styleSheet.cssText=styleText):(style.innerHTML=styleText)}function throwError(a,b,tooltip){if(a){var elem=insertElement(a,"span",null,"marked",b);tooltip&&elem.setAttribute("title",tooltip)}}Math.easeInOut=function(a){return(1-((Math.cos(a*Math.PI)+1)/2))};String.prototype.readMacroParams=function(keepquotes){var exec,re=/(?:\s*)(?:(?:"([^"]*)")|(?:'([^']*)')|(?:\[\[((?:[^\]]|\](?!\]))*)\]\])|([^"'\s]\S*))/mg,params=[];do{var val;exec=re.exec(this);if(exec){if(exec[1]){val=exec[1];keepquotes&&(val='"'+val+'"')}else{if(exec[2]){val=exec[2];keepquotes&&(val="'"+val+"'")}else{if(exec[3]){val=exec[3];keepquotes&&(val='"'+val.replace('"','\\"')+'"')}else{if(exec[4]){val=exec[4]}}}}val&&params.push(val)}}while(exec);return params};String.prototype.readBracketedList=function(){var c,b="\\[\\[([^\\]]+)\\]\\]",a="[^\\s$]+",e="(?:"+b+")|("+a+")",d=new RegExp(e,"mg"),f=[];do{c=d.exec(this);if(c){if(c[1]){f.push(c[1])}else{if(c[2]){f.push(c[2])}}}}while(c);return(f)};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")});String.prototype.unDash=function(){var s=this.split("-");if(s.length>1){for(var t=1;t<s.length;t++){s[t]=s[t].substr(0,1).toUpperCase()+s[t].substr(1)}}return s.join("")};Array.prototype.indexOf||(Array.prototype.indexOf=function(b,d){d=(d==null)?0:d;var a=this.length;for(var c=d;c<a;c++){if(this[c]==b){return c}}return -1});(function(){function t(t){this.message=t}var e=window,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.prototype=Error(),t.prototype.name="InvalidCharacterError",e.btoa||(e.btoa=function(e){for(var o,n,a=0,i=r,c="";e.charAt(0|a)||(i="=",a%1);c+=i.charAt(63&o>>8-8*(a%1))){if(n=e.charCodeAt(a+=0.75),n>255){throw new t()}o=o<<8|n}return c}),e.atob||(e.atob=function(e){if(e=e.replace(/=+$/,""),1==e.length%4){throw new t()}for(var o,n,a=0,i=0,c="";n=e.charAt(i++);~n&&(o=a%4?64*o+n:n,a++%4)?c+=String.fromCharCode(255&o>>(6&-2*a)):0){n=r.indexOf(n)}return c})})();var hasTransition="transition" in document.documentElement.style||"-webkit-transition" in document.documentElement.style;function fade(f,c){var h;var e=f.cloneNode(true);var g=(c.fade=="in")?1:-1;f.parentNode.replaceChild(e,f);if(c.fade=="in"){h=0;e.style.visibility="visible"}else{h=1}b(e,h);var a=window.setInterval(d,25);function d(){h+=0.05*g;b(e,Math.easeInOut(h));if(((g==1)&&(h>=1))||((g==-1)&&(h<=0))){f.style.visibility=(c.fade=="in")?"visible":"hidden";if(e.parentNode){e.parentNode.replaceChild(f,e)}window.clearInterval(a);if(c.onComplete){c.onComplete.call(f)}}}function b(k,j){var l=Math.floor(j*100);k.style.zoom=1;k.style.filter="alpha(opacity="+l+")";k.style.opacity=j}}var scrollWindowInterval;function scrollWindowTo(e){var d=window.scrollY?window.scrollY:document.documentElement.scrollTop,g=k(e),c=Math.abs(d-g),b=0,j=(d>g)?-1:1;scrollWindowInterval=window.setInterval(h,25);function h(){b+=0.1;window.scrollTo(0,d+j*(c*Math.easeInOut(b)));if(b>=1){window.clearInterval(scrollWindowInterval)}}function k(o){var p=a(o);var q=p+o.offsetHeight;var l=window.scrollY?window.scrollY:document.documentElement.scrollTop;var m=window.innerHeight?window.innerHeight:document.documentElement.clientHeight;var n=l+m;if(p<l){return p}else{if(q>n){if(o.offsetHeight<m){return(p-(m-o.offsetHeight)+20)}else{return p}}else{return p}}}function a(l){var m=0;while(l.offsetParent){m+=l.offsetTop;l=l.offsetParent}return m}}function delta(old,neu){var vars,ret={};if(old&&neu){for(vars in neu){if(neu[vars]!==old[vars]){ret[vars]=neu[vars]}}}return ret}function History(){this.history=[{passage:null,variables:{}}];this.id=new Date().getTime()+""}History.prototype.encodeHistory=function(b,noVars){var ret=".",vars,type,hist=this.history[b],d=this.history[b+1]?delta(this.history[b+1].variables,hist.variables):hist.variables;function vtob(str){try{return window.btoa(unescape(encodeURIComponent(JSON.stringify(str))))}catch(e){return"0"}}if(!hist.passage||hist.passage.id==null){return""}ret+=hist.passage.id.toString(36);if(noVars){return ret}for(vars in d){type=typeof d[vars];if(type!="function"&&type!="undefined"){ret+="$"+vtob(vars)+","+vtob(d[vars])}}for(vars in hist.linkVars){type=typeof hist.linkVars[vars];if(type!="function"&&type!="undefined"){ret+="["+vtob(vars)+","+vtob(hist.linkVars[vars])}}return ret};History.prototype.decodeHistory=function(str,prev){var name,splits,variable,c,d,ret={variables:clone(prev.variables)||{}},match=/([a-z0-9]+)((?:\$[A-Za-z0-9\+\/=]+,[A-Za-z0-9\+\/=]+)*)((?:\[[A-Za-z0-9\+\/=]+,[A-Za-z0-9\+\/=]+)*)/g.exec(str);function btov(str){try{return JSON.parse(decodeURIComponent(escape(window.atob(str))))}catch(e){return 0}}if(match){name=parseInt(match[1],36);if(!tale.has(name)){return false}if(match[2]){ret.variables||(ret.variables={});splits=match[2].split("$");for(c=0;c<splits.length;c++){variable=splits[c].split(",");d=btov(variable[0]);if(d){ret.variables[d]=btov(variable[1])}}}if(match[3]){ret.linkVars||(ret.linkVars={});splits=match[3].split("[");for(c=0;c<splits.length;c++){variable=splits[c].split(",");d=btov(variable[0]);if(d){ret.linkVars[d]=btov(variable[1])}}}ret.passage=tale.get(name);return ret}};History.prototype.save=function(c){var hist,b,a="";for(b=this.history.length-1;b>=0;b--){hist=this.history[b];if(!hist){break}a+=this.encodeHistory(b)}return"#"+a};History.prototype.restore=function(){var a,b,c,vars;try{if(testplay){this.display(testplay,null,"quietly");return true}if(!window.location.hash||(window.location.hash=="#")){return false}if(window.location.hash.substr(0,2)=="#!"){c=window.location.hash.substr(2).split("_").join(" ");this.display(c,null,"quietly");return true}a=window.location.hash.replace("#","").split(".");for(b=0;b<a.length;b++){vars=this.decodeHistory(a[b],vars||{});if(vars){if(b==a.length-1){vars.variables=clone(this.history[0].variables);for(c in this.history[0].linkVars){vars.variables[c]=clone(this.history[0].linkVars[c])}this.history.unshift(vars);this.display(vars.passage.title,null,"back")}else{this.history.unshift(vars)}}}return true}catch(d){return false}};History.prototype.saveVariables=function(c,el,callback){this.history.unshift({passage:c,variables:clone(this.history[0].variables)});if(typeof callback=="function"){callback.call(el);this.history[1]&&(this.history[1].linkVars=delta(this.history[1].variables,this.history[0].variables))}};var restart=History.prototype.restart=function(){if(typeof window.history.replaceState=="function"){this.pushState(true,window.location.href.replace(/#.*$/,""));window.location.reload()}else{window.location.hash=""}};var version={major:4,minor:1,revision:0,date:new Date("January 1, 2013"),extensions:{}};var testplay,tale,state,prerender={},postrender={},macros=window.macros={};version.extensions.displayMacro={major:2,minor:0,revision:0};macros.display={parameters:[],handler:function(place,macroName,params,parser){var t,j,output,oldDisplayParams,name=parser.fullArgs();if(macroName!="display"){output=macroName;params=name.readMacroParams(true);try{for(j=0;j<params.length;j++){params[j]=eval(Wikifier.parse(params[j]))}}catch(e){throwError(place,"<<"+macroName+" "+name+">> bad argument: "+params[j],parser.fullMatch());return}}else{try{output=eval(name)}catch(e){}if(output==null){if(tale.has(name)){output=name}else{throwError(place,"<<"+macroName+">> bad expression: "+e.message,parser.fullMatch());return}}}if(!output){throwError(place,'"'+name+'" did not evaluate to a passage name',parser.fullMatch())}else{if(!tale.has(output+"")){throwError(place,'The "'+output+'" passage does not exist',parser.fullMatch())}else{oldDisplayParams=this.parameters;this.parameters=params;t=tale.get(output+"");if(t.tags.indexOf("script")>-1){scriptEval(t)}else{new Wikifier(place,t.processText())}this.parameters=oldDisplayParams}}}};version.extensions.actionsMacro={major:1,minor:2,revision:0};macros.actions={handler:function(a,f,g){var v=state.history[0].variables,e=insertElement(a,"ul");if(!v["actions clicked"]){v["actions clicked"]={}}for(var b=0;b<g.length;b++){if(v["actions clicked"][g[b]]){continue}var d=insertElement(e,"li");var c=Wikifier.createInternalLink(d,g[b],(function(link){return function(){state.history[0].variables["actions clicked"][link]=true}}(g[b])));insertText(c,g[b])}}};version.extensions.printMacro={major:1,minor:1,revision:1};macros.print={handler:function(place,macroName,params,parser){try{var args=parser.fullArgs(macroName!="print"),output=eval(args);if(output!=null&&(typeof output!="number"||!isNaN(output))){new Wikifier(place,output.toString())}}catch(e){throwError(place,"<<print>> bad expression: "+e.message,parser.fullMatch())}}};version.extensions.setMacro={major:1,minor:1,revision:0};macros.set={handler:function(a,b,c,parser){macros.set.run(a,parser.fullArgs(),parser)},run:function(a,expression,parser){try{return eval(expression)}catch(e){throwError(a,"bad expression: "+e.message,parser?parser.fullMatch():expression)}}};version.extensions.ifMacros={major:2,minor:0,revision:0};macros["if"]={handler:function(place,macroName,params,parser){var conditions=[],clauses=[],srcOffset=parser.source.indexOf(">>",parser.matchStart)+2,src=parser.source.slice(srcOffset),endPos=-1,currentCond=parser.fullArgs(),currentClause="",t=0,nesting=0;for(var i=0;i<src.length;i++){if(src.substr(i,9)=="<<endif>>"){nesting--;if(nesting<0){endPos=srcOffset+i+9;conditions.push(currentCond.trim());clauses.push(currentClause);break}}if((src.substr(i,6)=="<<else")&&!nesting){conditions.push(currentCond.trim());clauses.push(currentClause);currentClause="";t=src.indexOf(">>",i+6);if(src.substr(i+6,4)==" if "||src.substr(i+6,3)=="if "){currentCond=Wikifier.parse(src.slice(i+9,t))}else{currentCond="true"}i=t+2}if(src.substr(i,5)=="<<if "){nesting++}currentClause+=src.charAt(i)}try{if(endPos!=-1){parser.nextMatch=endPos;for(i=0;i<clauses.length;i++){if(eval(conditions[i])){new Wikifier(place,clauses[i]);break}}}else{throwError(place,"can't find matching endif",parser.fullMatch())}}catch(e){throwError(place,"<<if>> bad condition: "+e.message,!i?parser.fullMatch():"<<else if "+conditions[i]+">>")}}};macros["else"]=macros.elseif=macros.endif={handler:function(){}};version.extensions.rememberMacro={major:2,minor:0,revision:0};macros.remember={handler:function(place,macroName,params,parser){var variable,value,re,match,statement=params.join(" ");macros.set.run(place,parser.fullArgs());if(!window.localStorage){throwError(place,"<<remember>> can't be used "+(window.location.protocol=="file:"?" by local HTML files ":"")+" in this browser.",parser.fullMatch());return}re=new RegExp(Wikifier.textPrimitives.variable,"g");while(match=re.exec(statement)){variable=match[1];value=state.history[0].variables[variable];try{value=JSON.stringify(value)}catch(e){throwError(place,"can't remember $"+variable+" ("+(typeof value)+")",parser.fullMatch());return}window.localStorage[this.prefix+variable]=value}},init:function(){var i,variable,value;if(tale.has("StoryTitle")){this.prefix="Twine."+tale.title+"."}else{this.prefix="Twine.Untitled Story."}for(i in window.localStorage){if(i.indexOf(this.prefix)==0){variable=i.substr(this.prefix.length);value=window.localStorage[i];try{value=JSON.parse(value);state.history[0].variables[variable]=value}catch(e){}}}},expire:null,prefix:null};version.extensions.forgetMacro={major:1,minor:0,revision:0};macros.forget={handler:function(place,macroName,params){var re,match,variable,statement=params.join(" ");re=new RegExp(Wikifier.textPrimitives.variable,"g");while(match=re.exec(statement)){variable=match[1]+"";delete state.history[0].variables[variable];delete window.localStorage[macros.remember.prefix+variable]}}};version.extensions.SilentlyMacro={major:1,minor:1,revision:0};macros.nobr=macros.silently={handler:function(place,macroName,f,parser){var i,h=insertElement(null,"div"),k=parser.source.indexOf(">>",parser.matchStart)+2,a=parser.source.slice(k),d=-1,c="",l=0;for(i=0;i<a.length;i++){if(a.substr(i,macroName.length+7)=="<<end"+macroName+">>"){if(l==0){d=k+i+macroName.length+7;break}else{l--}}else{if(a.substr(i,macroName.length+4)=="<<"+macroName+">>"){l++}}if(macroName=="nobr"&&a.charAt(i)=="\n"){c+="\u200c"}else{c+=a.charAt(i)}}if(d!=-1){new Wikifier(macroName=="nobr"?place:h,c);parser.nextMatch=d}else{throwError(place,"can't find matching end"+macroName,parser.fullMatch())}}};macros.endsilently={handler:function(){}};version.extensions.choiceMacro={major:2,minor:0,revision:0};macros.choice={callback:function(){var i,other,passage=findPassageParent(this);if(passage){other=passage.querySelectorAll(".choice");for(i=0;i<other.length;i++){other[i].outerHTML="<span class=disabled>"+other[i].innerHTML+"</span>"}state.history[0].variables["choice clicked"][passage.id.replace(/\|[^\]]*$/,"")]=true}},handler:function(A,C,D,parser){var link,id,match,text=D[1]||D[0].split("|")[0],passage=findPassageParent(A);if(!passage){throwError(A,"<<"+C+">> can't be used here.",parser.fullMatch());return}id=(passage&&passage.id.replace(/\|[^\]]*$/,""));if(id&&(state.history[0].variables["choice clicked"]||(state.history[0].variables["choice clicked"]={}))[id]){insertElement(A,"span",null,"disabled",text)}else{match=new RegExp(Wikifier.linkFormatter.lookahead).exec(parser.fullArgs());if(match){link=Wikifier.linkFormatter.makeLink(A,match,this.callback)}else{link=Wikifier.linkFormatter.makeLink(A,[0,text,D[0]],this.callback)}link.className+=" "+C}}};version.extensions.backMacro={major:2,minor:0,revision:0};macros.back={labeltext:"&#171; back",handler:function(a,b,e,parser){var labelParam,c,el,labeltouse=this.labeltext,steps=1,stepsParam=e.indexOf("steps"),stepsParam2="";if(stepsParam>0){stepsParam2=e[stepsParam-1];if(stepsParam2[0]=="$"){try{stepsParam2=eval(Wikifier.parse(stepsParam2))}catch(r){throwError(a,"<<"+b+">> bad expression: "+r.message,parser.fullMatch());return}}steps=+stepsParam2;if(steps>=state.history.length-1){steps=state.history.length-2}e.splice(stepsParam-1,2)}labelParam=e.indexOf("label");if(labelParam>-1){if(!e[labelParam+1]){throwError(a,e[labelParam]+" keyword needs an additional label parameter",parser.fullMatch());return}labeltouse=e[labelParam+1];if(e[labelParam]=="labeldefault"){this.labeltext=labeltouse}e.splice(labelParam,2)}if(stepsParam<=0){if(e[0]){if(e[0].charAt(0)=="$"){try{e=eval(Wikifier.parse(e[0]))}catch(r){throwError(a,"<<"+b+">> bad expression: "+r.message,parser.fullMatch());return}}else{e=e[0]}if(!tale.has(e)){throwError(a,'The "'+e+'" passage does not exist',parser.fullMatch());return}for(c=0;c<state.history.length;c++){if(state.history[c].passage.title==e){steps=c;break}}}}el=document.createElement("a");el.className=b;el.onclick=(function(b){return function(){return macros.back.onclick(b=="back",steps,el)}}(b));el.innerHTML=labeltouse;a.appendChild(el)}};version.extensions.returnMacro={major:2,minor:0,revision:0};macros["return"]={labeltext:"&#171; return",handler:function(a,b,e){macros.back.handler.call(this,a,b,e)}};version.extensions.textInputMacro={major:2,minor:0,revision:0};macros.checkbox=macros.radio=macros.textinput={handler:function(A,C,D,parser){var match,class_=C.replace("input","Input"),q=A.querySelectorAll("input"),id=class_+"|"+((q&&q.length)||0);input=insertElement(null,"input",id,class_);input.name=D[0];input.type=C.replace("input","");A.appendChild(input);if(C=="textinput"&&D[1]){match=new RegExp(Wikifier.linkFormatter.lookahead).exec(parser.fullArgs());if(match){Wikifier.linkFormatter.makeLink(A,match,macros.button.callback,"button")}else{Wikifier.linkFormatter.makeLink(A,[0,(D[2]||D[1]),D[1]],macros.button.callback,"button")}}else{if((C=="radio"||C=="checkbox")&&D[1]){input.value=D[1];insertElement(A,"label","","",D[1]).setAttribute("for",id);if(D[2]){insertElement(A,"br");D.splice(1,1);macros[C].handler(A,C,D)}}}}};version.extensions.buttonMacro={major:1,minor:0,revision:0};macros.button={callback:function(){var el=findPassageParent(this);if(el){var inputs=el.querySelectorAll("input");for(i=0;i<inputs.length;i++){if(inputs[i].type!="checkbox"&&(inputs[i].type!="radio"||inputs[i].checked)){macros.set.run(null,Wikifier.parse(inputs[i].name+' = "'+inputs[i].value.replace(/"/g,'\\"')+'"'))}else{if(inputs[i].type=="checkbox"&&inputs[i].checked){macros.set.run(null,Wikifier.parse(inputs[i].name+" = [].concat("+inputs[i].name+" || []);"));macros.set.run(null,Wikifier.parse(inputs[i].name+'.push("'+inputs[i].value.replace(/"/g,'\\"')+'")'))}}}}},handler:function(A,C,D,parser){var link,match=new RegExp(Wikifier.linkFormatter.lookahead).exec(parser.fullArgs());if(match){Wikifier.linkFormatter.makeLink(A,match,this.callback,"button")}else{Wikifier.linkFormatter.makeLink(A,[0,D[1]||D[0],D[0]],this.callback,"button")}}};function Passage(c,b,a,ofunc,okey){var t,k;this.title=c;if(b){this.id=a;if(ofunc!=null&&typeof ofunc=="function"&&okey!=null){t=b.firstChild?b.firstChild.nodeValue:"";this.initialText=this.text=ofunc(Passage.unescapeLineBreaks(t),okey);this.tags=b.getAttribute("tags");if(typeof this.tags=="string"){this.tags=ofunc(this.tags,okey);this.tags=this.tags.readBracketedList()}else{this.tags=[]}}else{this.initialText=this.text=Passage.unescapeLineBreaks(b.firstChild?b.firstChild.nodeValue:"");this.tags=b.getAttribute("tags");if(typeof this.tags=="string"){this.tags=this.tags.readBracketedList()}else{this.tags=[]}}if(!~(this.tags.indexOf("Twine.image"))){this.preloadImages()}}else{this.initialText=this.text="@@This passage does not exist: "+c+"@@";this.tags=[]}}Passage.prototype.preloadImages=function(){var u="s*['\"]?([^\"']+.(jpe?g|a?png|gif|bmp|webp|svg))['\"]?s*",k=function(c,e){var i,d;do{d=c.exec(this.initialText);if(d){i=new Image();i.src=d[e]}}while(d);return k};k.call(this,new RegExp(Wikifier.imageFormatter.lookahead.replace("[^\\[\\]\\|]+",u),"mg"),4).call(this,new RegExp("url("+u+")","mig"),1).call(this,new RegExp("srcs*="+u,"mig"),1)};Passage.unescapeLineBreaks=function(a){if(a&&typeof a=="string"){return a.replace(/\\n/mg,"\n").replace(/\\t/mg,"\t").replace(/\\s/mg,"\\").replace(/\\/mg,"\\").replace(/\r/mg,"")}else{return""}};Passage.prototype.setTags=function(b){var t=this.tags!=null&&this.tags.length?this.tags.join(" "):"";if(t){b.setAttribute("data-tags",this.tags.join(" "))}document.body.setAttribute("data-tags",t)};Passage.prototype.processText=function(){var ret=this.text;if(~this.tags.indexOf("nobr")){ret=ret.replace(/\n/g,"\u200c")}if(~this.tags.indexOf("Twine.image")){ret="[img["+ret+"]]"}return ret};function Tale(){var a,b,c,lines,i,kv,ns,nsc,nope,settings=this.storysettings={lookup:function(a){return !~["0","off","false"].indexOf((this[a]+""))}},tiddlerTitle="";function deswap(t,k){var i,c,p,p1,up,r="";for(i=0;i<t.length;i++){c=t.charAt(i);up=(c==c.toUpperCase());p=k.indexOf(c.toLowerCase());if(p>-1){p1=p+(p%2==0?1:-1);if(p1>=k.length){p1=p}c=k.charAt(p1);up&&(c=c.toUpperCase())}r=r+c}return r}this.passages={};if(document.normalize){document.normalize()}a=document.getElementById("storeArea").children;for(b=0;b<a.length;b++){c=a[b];if(c.getAttribute&&c.getAttribute("tiddler")=="StorySettings"){lines=new Passage("StorySettings",c,0,null,null).text.split("\n");for(i in lines){if(typeof lines[i]=="string"&&lines[i].indexOf(":")>-1){kv=lines[i].toLowerCase().split(":");kv[0]=kv[0].replace(/^\s+|\s+$/g,"");kv[1]=kv[1].replace(/^\s+|\s+$/g,"");if(kv[0]!="lookup"){settings[kv[0]]=kv[1]}}}}}if(settings.obfuscate=="swap"&&settings.obfuscatekey){ns="";nope=':\\"n0';if(settings.obfuscatekey=="rot13"){settings.obfuscatekey="anbocpdqerfsgthuivjwkxlymz"}for(i=0;i<settings.obfuscatekey.length;i++){nsc=settings.obfuscatekey[i];if(ns.indexOf(nsc)==-1&&nope.indexOf(nsc)==-1){ns=ns+nsc}}settings.obfuscatekey=ns;for(b=0;b<a.length;b++){c=a[b];if(c.getAttribute&&(tiddlerTitle=c.getAttribute("tiddler"))){if(tiddlerTitle!="StorySettings"){tiddlerTitle=deswap(tiddlerTitle,settings.obfuscatekey)}this.passages[tiddlerTitle]=new Passage(tiddlerTitle,c,b+1,deswap,settings.obfuscatekey)}}}else{for(b=0;b<a.length;b++){c=a[b];if(c.getAttribute&&(tiddlerTitle=c.getAttribute("tiddler"))){this.passages[tiddlerTitle]=new Passage(tiddlerTitle,c,b,null,null)}}}}Tale.prototype.has=function(a){if(typeof a=="string"){return(this.passages[a]!=null)}else{for(var i in this.passages){if(this.passages[i].id==a){return true}}return false}};Tale.prototype.get=function(a){if(typeof a=="string"){return this.passages[a]||new Passage(a)}else{for(var i in this.passages){if(this.passages[i].id==a){return this.passages[i]}}}};Tale.prototype.lookup=function(h,g,a){var d=[];for(var c in this.passages){var f=this.passages[c];for(var b=0;b<f[h].length;b++){if(f[h][b]==g){d.push(f)}}}if(!a){a="title"}d.sort(function(k,j){if(k[a]==j[a]){return(0)}else{return(k[a]<j[a])?-1:+1}});return d};Tale.prototype.canUndo=function(){return this.storysettings.lookup("undo")};Tale.prototype.forEachStylesheet=function(tags,callback){var passage,i;tags=tags||[];if(typeof callback!="function"){return}for(passage in this.passages){passage=tale.passages[passage];if(passage&&~passage.tags.indexOf("stylesheet")){for(i=0;i<tags.length;i++){if(~passage.tags.indexOf(tags[i])){callback(passage);break}}}}};Tale.prototype.setPageElements=function(){var storyTitle,defaultTitle="Slaarn";setPageElement("storyTitle","StoryTitle",defaultTitle);storyTitle=document.getElementById("storyTitle");document.title=this.title=(storyTitle&&(storyTitle.textContent||storyTitle.innerText))||defaultTitle;setPageElement("storySubtitle","StorySubtitle","");if(tale.has("StoryAuthor")){setPageElement("titleSeparator",null,"\n");setPageElement("storyAuthor","StoryAuthor","")}if(tale.has("StoryMenu")){document.getElementById("storyMenu").style.display="block";setPageElement("storyMenu","StoryMenu","")}};function Wikifier(place,source){this.source=source;this.output=place;this.nextMatch=0;this.assembleFormatterMatches(Wikifier.formatters);this.subWikify(this.output)}Wikifier.prototype.assembleFormatterMatches=function(formatters){this.formatters=[];var pattern=[];for(var n=0;n<formatters.length;n++){pattern.push("("+formatters[n].match+")");this.formatters.push(formatters[n])}this.formatterRegExp=new RegExp(pattern.join("|"),"mg")};Wikifier.prototype.subWikify=function(output,terminator){var terminatorMatch,formatterMatch,oldOutput=this.output;this.output=output;var terminatorRegExp=terminator?new RegExp("("+terminator+")","mg"):null;do{this.formatterRegExp.lastIndex=this.nextMatch;if(terminatorRegExp){terminatorRegExp.lastIndex=this.nextMatch}formatterMatch=this.formatterRegExp.exec(this.source);terminatorMatch=terminatorRegExp?terminatorRegExp.exec(this.source):null;if(terminatorMatch&&(!formatterMatch||terminatorMatch.index<=formatterMatch.index)){if(terminatorMatch.index>this.nextMatch){this.outputText(this.output,this.nextMatch,terminatorMatch.index)}this.matchStart=terminatorMatch.index;this.matchLength=terminatorMatch[1].length;this.matchText=terminatorMatch[1];this.nextMatch=terminatorMatch.index+terminatorMatch[1].length;this.output=oldOutput;return}else{if(formatterMatch){if(formatterMatch.index>this.nextMatch){this.outputText(this.output,this.nextMatch,formatterMatch.index)}this.matchStart=formatterMatch.index;this.matchLength=formatterMatch[0].length;this.matchText=formatterMatch[0];this.nextMatch=this.formatterRegExp.lastIndex;var matchingFormatter=-1;for(var t=1;t<formatterMatch.length;t++){if(formatterMatch[t]){matchingFormatter=t-1;break}}if(matchingFormatter!=-1){this.formatters[matchingFormatter].handler(this)}}}}while(terminatorMatch||formatterMatch);if(this.nextMatch<this.source.length){this.outputText(this.output,this.nextMatch,this.source.length);this.nextMatch=this.source.length}this.output=oldOutput};Wikifier.prototype.outputText=function(place,startPos,endPos){insertText(place,this.source.substring(startPos,endPos))};Wikifier.prototype.fullMatch=function(){return this.source.slice(this.matchStart,this.source.indexOf(">>",this.matchStart)+2)};Wikifier.prototype.fullArgs=function(includeName){var source=this.source.replace(/\u200c/g," "),endPos=source.indexOf(">>",this.matchStart),startPos=source.indexOf(includeName?"<<":" ",this.matchStart);if(!~startPos||!~endPos||endPos<=startPos){return""}return Wikifier.parse(source.slice(startPos+(includeName?2:1),endPos).trim())};Wikifier.parse=function(input){var m,re,b=input,found=[],g="(?=(?:[^\"'\\\\]*(?:\\\\.|'(?:[^'\\\\]*\\\\.)*[^'\\\\]*'|\"(?:[^\"\\\\]*\\\\.)*[^\"\\\\]*\"))*[^'\"]*$)";function alter(from,to){return b.replace(new RegExp(from+g,"gi"),to)}re=new RegExp(Wikifier.textPrimitives.variable,"gi");while(m=re.exec(input)){if(!~found.indexOf(m[0])){b=m[0]+" == null && ("+m[0]+" = 0);"+b;found.push(m[0])}}b=alter(Wikifier.textPrimitives.variable,"state.history[0].variables.$1");b=alter("\\beq\\b"," == ");b=alter("\\bneq\\b"," != ");b=alter("\\bgt\\b"," > ");b=alter("\\bgte\\b"," >= ");b=alter("\\blt\\b"," < ");b=alter("\\blte\\b"," <= ");b=alter("\\band\\b"," && ");b=alter("\\bor\\b"," || ");b=alter("\\bnot\\b"," ! ");b=alter("\\bis\\b"," == ");b=alter("\\bto\\b"," = ");return b};Wikifier.formatHelpers={charFormatHelper:function(a){var b=insertElement(a.output,this.element);a.subWikify(b,this.terminator)},inlineCssHelper:function(w){var s,v,lookaheadMatch,gotMatch,styles=[],lookahead="(?:("+Wikifier.textPrimitives.anyLetter+"+)\\(([^\\)\\|\\n]+)(?:\\):))|(?:("+Wikifier.textPrimitives.anyLetter+"+):([^;\\|\\n]+);)",lookaheadRegExp=new RegExp(lookahead,"mg"),hadStyle=false;do{lookaheadRegExp.lastIndex=w.nextMatch;lookaheadMatch=lookaheadRegExp.exec(w.source);gotMatch=lookaheadMatch&&lookaheadMatch.index==w.nextMatch;if(gotMatch){hadStyle=true;if(lookaheadMatch[1]){s=lookaheadMatch[1].unDash();v=lookaheadMatch[2]}else{s=lookaheadMatch[3].unDash();v=lookaheadMatch[4]}switch(s){case"bgcolor":s="backgroundColor";break;case"float":s="cssFloat";break}styles.push({style:s,value:v});w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}while(gotMatch);return styles},monospacedByLineHelper:function(w){var lookaheadRegExp=new RegExp(this.lookahead,"mg");lookaheadRegExp.lastIndex=w.matchStart;var lookaheadMatch=lookaheadRegExp.exec(w.source);if(lookaheadMatch&&lookaheadMatch.index==w.matchStart){var text=lookaheadMatch[1];if(navigator.userAgent.indexOf("msie")!=-1&&navigator.userAgent.indexOf("opera")==-1){text=text.replace(/\n/g,"\r")}var e=insertElement(w.output,"pre",null,null,text);w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}};Wikifier.formatters=[{name:"table",match:"^\\|(?:[^\\n]*)\\|(?:[fhc]?)$",lookahead:"^\\|([^\\n]*)\\|([fhc]?)$",rowTerminator:"\\|(?:[fhc]?)$\\n?",cellPattern:"(?:\\|([^\\n\\|]*)\\|)|(\\|[fhc]?$\\n?)",cellTerminator:"(?:\\x20*)\\|",rowTypes:{"c":"caption","h":"thead","":"tbody","f":"tfoot"},handler:function(w){var rowContainer,rowElement,lookaheadMatch,matched,table=insertElement(w.output,"table"),lookaheadRegExp=new RegExp(this.lookahead,"mg"),currRowType=null,nextRowType,prevColumns=[],rowCount=0;w.nextMatch=w.matchStart;do{lookaheadRegExp.lastIndex=w.nextMatch;lookaheadMatch=lookaheadRegExp.exec(w.source),matched=lookaheadMatch&&lookaheadMatch.index==w.nextMatch;if(matched){nextRowType=lookaheadMatch[2];if(nextRowType!=currRowType){rowContainer=insertElement(table,this.rowTypes[nextRowType])}currRowType=nextRowType;if(currRowType=="c"){if(rowCount==0){rowContainer.setAttribute("align","top")}else{rowContainer.setAttribute("align","bottom")}w.nextMatch=w.nextMatch+1;w.subWikify(rowContainer,this.rowTerminator)}else{rowElement=insertElement(rowContainer,"tr");this.rowHandler(w,rowElement,prevColumns)}rowCount++}}while(matched)},rowHandler:function(w,e,prevColumns){var cellMatch,matched,col=0,currColCount=1,cellRegExp=new RegExp(this.cellPattern,"mg");do{cellRegExp.lastIndex=w.nextMatch;cellMatch=cellRegExp.exec(w.source);matched=cellMatch&&cellMatch.index==w.nextMatch;if(matched){if(cellMatch[1]=="~"){var last=prevColumns[col];if(last){last.rowCount++;last.element.setAttribute("rowSpan",last.rowCount);last.element.setAttribute("rowspan",last.rowCount);last.element.valign="center"}w.nextMatch=cellMatch.index+cellMatch[0].length-1}else{if(cellMatch[1]==">"){currColCount++;w.nextMatch=cellMatch.index+cellMatch[0].length-1}else{if(cellMatch[2]){w.nextMatch=cellMatch.index+cellMatch[0].length;break}else{var spaceLeft=false,spaceRight=false,lastColCount,lastColElement,styles,cell,t;w.nextMatch++;styles=Wikifier.formatHelpers.inlineCssHelper(w);while(w.source.substr(w.nextMatch,1)==" "){spaceLeft=true;w.nextMatch++}if(w.source.substr(w.nextMatch,1)=="!"){cell=insertElement(e,"th");w.nextMatch++}else{cell=insertElement(e,"td")}prevColumns[col]={rowCount:1,element:cell};lastColCount=1;lastColElement=cell;if(currColCount>1){cell.setAttribute("colSpan",currColCount);cell.setAttribute("colspan",currColCount);currColCount=1}for(t=0;t<styles.length;t++){cell.style[styles[t].style]=styles[t].value}w.subWikify(cell,this.cellTerminator);if(w.matchText.substr(w.matchText.length-2,1)==" "){spaceRight=true}if(spaceLeft&&spaceRight){cell.align="center"}else{if(spaceLeft){cell.align="right"}else{if(spaceRight){cell.align="left"}}}w.nextMatch=w.nextMatch-1}}}col++}}while(matched)}},{name:"rule",match:"^----$\\n?",handler:function(w){insertElement(w.output,"hr")}},{name:"emdash",match:"--",handler:function(a){insertElement(a.output,"span",null,"char "+String.fromCharCode(8212),String.fromCharCode(8212))}},{name:"heading",match:"^!{1,5}",terminator:"\\n",handler:function(w){var e=insertElement(w.output,"h"+w.matchLength);w.subWikify(e,this.terminator)}},{name:"monospacedByLine",match:"^\\{\\{\\{\\n",lookahead:"^\\{\\{\\{\\n((?:^[^\\n]*\\n)+?)(^\\}\\}\\}$\\n?)",handler:Wikifier.formatHelpers.monospacedByLineHelper},{name:"monospacedByLineForPlugin",match:"^//\\{\\{\\{\\n",lookahead:"^//\\{\\{\\{\\n\\n*((?:^[^\\n]*\\n)+?)(\\n*^//\\}\\}\\}$\\n?)",handler:Wikifier.formatHelpers.monospacedByLineHelper},{name:"wikifyCommentForPlugin",match:"^/\\*\\*\\*\\n",terminator:"^\\*\\*\\*/\\n",handler:function(w){w.subWikify(w.output,this.terminator)}},{name:"quoteByBlock",match:"^<<<\\n",terminator:"^<<<\\n",handler:function(w){var e=insertElement(w.output,"blockquote");w.subWikify(e,this.terminator)}},{name:"quoteByLine",match:"^>+",terminator:"\\n",element:"blockquote",handler:function(w){var lookaheadRegExp=new RegExp(this.match,"mg");var placeStack=[w.output];var currLevel=0;var newLevel=w.matchLength;var t;do{if(newLevel>currLevel){for(t=currLevel;t<newLevel;t++){placeStack.push(insertElement(placeStack[placeStack.length-1],this.element))}}else{if(newLevel<currLevel){for(t=currLevel;t>newLevel;t--){placeStack.pop()}}}currLevel=newLevel;w.subWikify(placeStack[placeStack.length-1],this.terminator);lookaheadRegExp.lastIndex=w.nextMatch;var lookaheadMatch=lookaheadRegExp.exec(w.source);var matched=lookaheadMatch&&lookaheadMatch.index==w.nextMatch;if(matched){newLevel=lookaheadMatch[0].length;w.nextMatch+=lookaheadMatch[0].length;insertElement(placeStack[placeStack.length-1],"br")}}while(matched)}},{name:"list",match:"^(?:(?:\\*+)|(?:#+))",lookahead:"^(?:(\\*+)|(#+))",terminator:"\\n",outerElement:"ul",itemElement:"li",handler:function(w){var lookaheadRegExp=new RegExp(this.lookahead,"mg");w.nextMatch=w.matchStart;var placeStack=[w.output];var currType=null,newType;var currLevel=0,newLevel;var t;do{lookaheadRegExp.lastIndex=w.nextMatch;var lookaheadMatch=lookaheadRegExp.exec(w.source);var matched=lookaheadMatch&&lookaheadMatch.index==w.nextMatch;if(matched){if(lookaheadMatch[1]){newType="ul"}if(lookaheadMatch[2]){newType="ol"}newLevel=lookaheadMatch[0].length;w.nextMatch+=lookaheadMatch[0].length;if(newLevel>currLevel){for(t=currLevel;t<newLevel;t++){placeStack.push(insertElement(placeStack[placeStack.length-1],newType))}}else{if(newLevel<currLevel){for(t=currLevel;t>newLevel;t--){placeStack.pop()}}else{if(newLevel==currLevel&&newType!=currType){placeStack.pop();placeStack.push(insertElement(placeStack[placeStack.length-1],newType))}}}currLevel=newLevel;currType=newType;var e=insertElement(placeStack[placeStack.length-1],"li");w.subWikify(e,this.terminator)}}while(matched)}},(Wikifier.urlFormatter={name:"urlLink",match:"(?:http|https|mailto|javascript|ftp|data):[^\\s'\"]+(?:/|\\b)",handler:function(w){var e=Wikifier.createExternalLink(w.output,w.matchText);w.outputText(e,w.matchStart,w.nextMatch)}}),(Wikifier.linkFormatter={name:"prettyLink",match:"\\[\\[",lookahead:"\\[\\[([^\\|\\]]*?)(?:\\|(.*?))?\\](?:\\[(.*?)])?\\]",makeInternalOrExternal:function(out,title,callback,type){if(title&&!tale.has(title)&&(title.match(Wikifier.urlFormatter.match,"g")||~title.search(/[\.\\\/#]/))){return Wikifier.createExternalLink(out,title,callback,type)}else{return Wikifier.createInternalLink(out,title,callback,type)}},makeCallback:function(out,code,callback){return function(){macros.set.run(out,Wikifier.parse(code));typeof callback=="function"&&callback.call(this)}},makeLink:function(out,match,callback2,type){var link,title,callback;if(match[3]){callback=this.makeCallback(out,match[3],callback2)}else{typeof callback2=="function"&&(callback=callback2)}title=Wikifier.parsePassageTitle(match[2]||match[1]);link=this.makeInternalOrExternal(out,title,callback,type);setPageElement(link,null,match[2]?match[1]:title);return link},handler:function(w){var lookaheadRegExp=new RegExp(this.lookahead,"mg");lookaheadRegExp.lastIndex=w.matchStart;var lookaheadMatch=lookaheadRegExp.exec(w.source);if(lookaheadMatch&&lookaheadMatch.index==w.matchStart){this.makeLink(w.output,lookaheadMatch);w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}}),(Wikifier.imageFormatter={name:"image",match:"\\[(?:[<]{0,1})(?:[>]{0,1})[Ii][Mm][Gg]\\[",lookahead:"\\[([<]?)(>?)img\\[(?:([^\\|\\]]+)\\|)?([^\\[\\]\\|]+)\\](?:\\[([^\\]]*)\\]?)?(\\])",handler:function(w){var lookaheadRegExp=new RegExp(this.lookahead,"mig");lookaheadRegExp.lastIndex=w.matchStart;var lookaheadMatch=lookaheadRegExp.exec(w.source);if(lookaheadMatch&&lookaheadMatch.index==w.matchStart){var e=w.output,title=Wikifier.parsePassageTitle(lookaheadMatch[5]);if(title){e=Wikifier.linkFormatter.makeInternalOrExternal(w.output,title)}var img=insertElement(e,"img");if(lookaheadMatch[1]){img.align="left"}else{if(lookaheadMatch[2]){img.align="right"}}if(lookaheadMatch[3]){img.title=lookaheadMatch[3]}img.src=lookaheadMatch[4];var imgPassages=tale.lookup("tags","Twine.image");for(var j=0;j<imgPassages.length;j++){if(imgPassages[j].title==lookaheadMatch[4]){img.src=imgPassages[j].text;break}}w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}}),{name:"macro",match:"<<",lookahead:"<<([^>\\s]+)(?:\\s*)((?:[^>]|>(?!>))*)>>",handler:function(w){var lookaheadRegExp=new RegExp(this.lookahead,"mg");lookaheadRegExp.lastIndex=w.matchStart;var lookaheadMatch=lookaheadRegExp.exec(w.source.replace(/\u200c/g,"\n"));if(lookaheadMatch&&lookaheadMatch.index==w.matchStart&&lookaheadMatch[1]){var params=lookaheadMatch[2].readMacroParams();w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length;var name=lookaheadMatch[1];try{var macro=macros[name];if(macro&&macro.handler){macro.handler(w.output,name,params,w)}else{if(name[0]=="$"){macros.print.handler(w.output,name,[name].concat(params),w)}else{if(tale.has(name)){macros.display.handler(w.output,name,[name].concat(params),w)}else{throwError(w.output,"Macro not found: "+name,w.fullMatch())}}}}catch(e){throwError(w.output,"Error executing macro "+name+": "+e.toString(),w.fullMatch())}}}},{name:"html",match:"<html>",lookahead:"<html>((?:.|\\n)*?)</html>",handler:function(w){var lookaheadRegExp=new RegExp(this.lookahead,"mg");lookaheadRegExp.lastIndex=w.matchStart;var lookaheadMatch=lookaheadRegExp.exec(w.source);if(lookaheadMatch&&lookaheadMatch.index==w.matchStart){var e=insertElement(w.output,"span");e.innerHTML=lookaheadMatch[1];w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}},{name:"commentByBlock",match:"/%",lookahead:"/%((?:.|\\n)*?)%/",handler:function(w){var lookaheadRegExp=new RegExp(this.lookahead,"mg");lookaheadRegExp.lastIndex=w.matchStart;var lookaheadMatch=lookaheadRegExp.exec(w.source);if(lookaheadMatch&&lookaheadMatch.index==w.matchStart){w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}},{name:"boldByChar",match:"''",terminator:"''",element:"strong",handler:Wikifier.formatHelpers.charFormatHelper},{name:"strikeByChar",match:"==",terminator:"==",element:"strike",handler:Wikifier.formatHelpers.charFormatHelper},{name:"underlineByChar",match:"__",terminator:"__",element:"u",handler:Wikifier.formatHelpers.charFormatHelper},{name:"italicByChar",match:"//",terminator:"//",element:"em",handler:Wikifier.formatHelpers.charFormatHelper},{name:"subscriptByChar",match:"~~",terminator:"~~",element:"sub",handler:Wikifier.formatHelpers.charFormatHelper},{name:"superscriptByChar",match:"\\^\\^",terminator:"\\^\\^",element:"sup",handler:Wikifier.formatHelpers.charFormatHelper},{name:"monospacedByChar",match:"\\{\\{\\{",lookahead:"\\{\\{\\{((?:.|\\n)*?)\\}\\}\\}",handler:function(w){var lookaheadRegExp=new RegExp(this.lookahead,"mg");lookaheadRegExp.lastIndex=w.matchStart;var lookaheadMatch=lookaheadRegExp.exec(w.source);if(lookaheadMatch&&lookaheadMatch.index==w.matchStart){var e=insertElement(w.output,"code",null,null,lookaheadMatch[1]);w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}},{name:"styleByChar",match:"@@",terminator:"@@",lookahead:"(?:([^\\(@]+)\\(([^\\)]+)(?:\\):))|(?:([^:@]+):([^;]+);)",handler:function(w){var e=insertElement(w.output,"span",null,null,null);var styles=Wikifier.formatHelpers.inlineCssHelper(w);if(styles.length==0){e.className="marked"}else{for(var t=0;t<styles.length;t++){e.style[styles[t].style]=styles[t].value}}w.subWikify(e,this.terminator)}},{name:"lineBreak",match:"\\n",handler:function(w){insertElement(w.output,"br")}},{name:"continuedLine",match:"\\\\\\s*?\\n",handler:function(a){a.nextMatch=a.matchStart+2}},{name:"htmltag",match:"<\\w+(?:(?:\\s+\\w+(?:\\s*=\\s*(?:\".*?\"|'.*?'|[^'\">\\s]+))?)+\\s*|\\s*)\\/?>",tagname:"<(\\w+)",voids:["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"],tableElems:["table","thead","tbody","tfoot","th","tr","td","colgroup","col","caption","figcaption"],cleanupTables:function(e){var i,name,elems=[].slice.call(e.children);for(i=0;i<elems.length;i++){if(elems[i].tagName){name=elems[i].tagName.toLowerCase();if(this.tableElems.indexOf(name)==-1){elems[i].outerHTML=""}else{if(["col","caption","figcaption","td","th"].indexOf(name)==-1){this.cleanupTables.call(this,elems[i])}}}}},handler:function(a){var e,isvoid,lookaheadRegExp,lookaheadMatch,lookahead,re=new RegExp(this.tagname).exec(a.matchText),tn=re&&re[1];if(tn&&tn.toLowerCase()!="html"){lookahead="<\\/\\s*"+tn+"\\s*>";isvoid=(this.voids.indexOf(tn.toLowerCase())!=-1);lookaheadRegExp=new RegExp(lookahead,"mg");lookaheadRegExp.lastIndex=a.matchStart;lookaheadMatch=lookaheadRegExp.exec(a.source);if(lookaheadMatch||isvoid){e=document.createElement(a.output.tagName);e.innerHTML=a.matchText;while(e.firstChild){e=e.firstChild}if(!isvoid){a.subWikify(e,lookahead)}if(e.tagName.toLowerCase()=="table"){this.cleanupTables.call(this,e)}a.output.appendChild(e)}else{throwError(a.output,"HTML tag '"+tn+"' wasn't closed.",a.matchText)}}}},{name:"char",match:".",handler:function(a){insertElement(a.output,"span",null,"char "+(a.matchText==" "?"space":a.matchText=="\t"?"tab":a.matchText),a.matchText)}}];Wikifier.parsePassageTitle=function(title){if(title&&!tale.has(title)){try{title=(eval(this.parse(title))||title)+""}catch(e){}}return title};Wikifier.linkFunction=function(title,el,callback){return function(){if(state.rewindTo){var passage=findPassageParent(el);if(passage&&passage.parentNode.lastChild!=passage){state.rewindTo(passage,true)}}state.display(title,el,null,callback)}};Wikifier.createInternalLink=function(place,title,callback,type){var tag=(type=="button"?"button":"a"),suffix=(type=="button"?"Button":"Link"),el=insertElement(place,tag,title);if(tale.has(title)){el.className="internal"+suffix;if(visited(title)){el.className+=" visited"+suffix}}else{el.className="broken"+suffix}el.onclick=Wikifier.linkFunction(title,el,callback);if(place){place.appendChild(el)}return el};Wikifier.createExternalLink=function(place,url,callback,type){var tag=(type=="button"?"button":"a"),el=insertElement(place,tag);el.href=url;el.className="external"+(type=="button"?"Button":"Link");el.target="_blank";if(typeof callback=="function"){el.onclick=callback}if(place){place.appendChild(el)}return el};if(!((new RegExp("[\u0150\u0170]","g")).test("\u0150"))){Wikifier.textPrimitives={upperLetter:"[A-Z\u00c0-\u00de]",lowerLetter:"[a-z\u00df-\u00ff_0-9\\-]",anyLetter:"[A-Za-z\u00c0-\u00de\u00df-\u00ff_0-9\\-]"}}else{Wikifier.textPrimitives={upperLetter:"[A-Z\u00c0-\u00de\u0150\u0170]",lowerLetter:"[a-z\u00df-\u00ff_0-9\\-\u0151\u0171]",anyLetter:"[A-Za-z\u00c0-\u00de\u00df-\u00ff_0-9\\-\u0150\u0170\u0151\u0171]"}}Wikifier.textPrimitives.variable="\\$((?:"+Wikifier.textPrimitives.anyLetter.replace("\\-","\\.")+"*"+Wikifier.textPrimitives.anyLetter.replace("0-9\\-","\\.")+"+"+Wikifier.textPrimitives.anyLetter.replace("\\-","\\.")+"*)+)";function visited(e){var ret=0,i=0;if(!state){return 0}e=e||state.history[0].passage.title;if(arguments.length>1){for(ret=state.history.length;i<arguments.length;i++){ret=Math.min(ret,visited(arguments[i]))}}else{for(;i<state.history.length&&state.history[i].passage;i++){if(e==state.history[i].passage.title){ret++}}}return ret}function visitedTag(){var i,j,k,ret=0;if(!state){return 0}for(i=0;i<state.history.length&&state.history[i].passage;i++){for(j=0;j<state.history.length&&state.history[i].passage;i++){for(k=0;k<arguments.length||void ret++;k++){if(state.history[i].passage.tags.indexOf(arguments[k])==-1){break}}}}return ret}function turns(){return state.history.length-1}function passage(){return state.history[0].passage.title}function tags(e){var ret=[],i=0;if(!state){return 0}e=e||state.history[0].passage.title;if(arguments.length>1){for(i=arguments.length-1;i>=1;i--){ret=ret.concat(tags(arguments[i]))}}ret=ret.concat(tale.get(e).tags);return ret}function previous(){if(state&&state.history[1]){for(var d=1;d<state.history.length&&state.history[d].passage;d++){if(state.history[d].passage.title!=state.history[0].passage.title){return state.history[d].passage.title}}}return""}function either(){return arguments[~~(Math.random()*arguments.length)]}function parameter(n){n=n||0;if(macros.display.parameters[n]){return macros.display.parameters[n]}return 0}function scriptEval(s){try{eval(s.text)}catch(e){alert("There is a technical problem with this story ("+s.title+": "+e.message+")."+softErrorMessage)}}var softErrorMessage=" You may be able to continue playing, but parts of the story may not work properly.";window.onerror=function(e){alert("Sorry to interrupt, but this story's code has got itself in a mess ("+e+")."+softErrorMessage);window.onerror=null};var $;function main(){$=window.$||function(a){return(typeof a=="string"?document.getElementById(a):a)};var imgs,scripts,macro,style,styleText="",i,passages=document.getElementById("passages");function sanityCheck(thing){if(!sanityCheck.display){if(History.prototype.display.length<4&&!~History.prototype.display.toString().indexOf("arguments")){alert("NOTE: The "+thing+" contains a function that patches History.prototype.display, but takes the wrong number of arguments."+softErrorMessage)}sanityCheck.display=true}}if(!window.JSON||!document.querySelector){return(passages.innerHTML="This story requires a newer web browser. Sorry.")}else{passages.innerHTML=""}tale=window.tale=new Tale();if(~document.documentElement.className.indexOf("lt-ie9")){imgs=tale.lookup("tags","Twine.image");for(i=0;i<imgs.length;i++){if(imgs[i].text.length>=32768){alert("NOTE: This story's HTML file contains embedded images that may be too large for this browser to display."+softErrorMessage);break}}}scripts=tale.lookup("tags","script");for(i=0;i<scripts.length;i++){scriptEval(scripts[i]);sanityCheck('script passage "'+scripts[i].title+'"')}state=window.state=new History();for(i in macros){macro=macros[i];if(typeof macro.init=="function"){macro.init();sanityCheck('init() of the custom macro "'+i+'"')}}style=document.getElementById("storyCSS");for(i in tale.passages){i=tale.passages[i];if(i.tags+""=="stylesheet"){styleText+=alterCSS(i.text)}else{if(i.tags.length==2&&i.tags.indexOf("transition")>-1&&i.tags.indexOf("stylesheet")>-1){setTransitionCSS(i.text)}}}style.styleSheet?(style.styleSheet.cssText=styleText):(style.innerHTML=styleText);state.init()};

var hasPushState=!!window.history&&(typeof window.history.pushState=="function");Tale.prototype.canBookmark=function(){return this.canUndo()&&(this.storysettings.lookup("bookmark")||!hasPushState)};History.prototype.init=function(){var a=this;if(!this.restore()){this.display("Start",null)}if(!hasPushState){this.hash=window.location.hash;this.interval=window.setInterval(function(){a.watchHash()},250)}};hasPushState&&(History.prototype.pushState=function(replace,uri){window.history[replace?"replaceState":"pushState"]({id:this.id,length:this.history.length},document.title,uri)});History.prototype.display=function(title,source,type,callback){var e,bookmarkhref,c=tale.get(title),p=document.getElementById("passages");if(c==null){return}if(type!="back"){this.saveVariables(c,source,callback);if(hasPushState&&tale.canUndo()){try{sessionStorage.setItem("history"+this.id,JSON.stringify(this.history));this.pushState(this.history.length<=2&&window.history.state=="")}catch(e){alert("Your browser couldn't save the state of the game.\n"+"You may continue playing, but it will no longer be possible to undo moves from here on in.");tale.storysettings.undo="off"}}}bookmarkhref=this.save();e=c.render();if(type!="quietly"){if(hasTransition){for(var i=0;i<p.childNodes.length;i+=1){var q=p.childNodes[i];q.classList.add("transition-out");setTimeout((function(a){return function(){if(a.parentNode){a.parentNode.removeChild(a)}}}(q)),1000)}e.classList.add("transition-in");setTimeout(function(){e.classList.remove("transition-in")},1);e.style.visibility="visible";p.appendChild(e)}else{removeChildren(p);p.appendChild(e);fade(e,{fade:"in"})}tale.setPageElements()}else{p.appendChild(e);e.style.visibility="visible"}if(tale.canUndo()){if(!hasPushState&&type!="back"){this.hash=bookmarkhref;window.location.hash=this.hash}else{if(tale.canBookmark()){var bookmark=document.getElementById("bookmark");bookmark&&(bookmark.href=bookmarkhref)}}}window.scroll(0,0);return e};History.prototype.watchHash=function(){if(window.location.hash!=this.hash){if(window.location.hash&&(window.location.hash!="#")){this.history=[{passage:null,variables:{}}];removeChildren(document.getElementById("passages"));if(!this.restore()){alert("The passage you had previously visited could not be found.")}}else{window.location.reload()}this.hash=window.location.hash}};History.prototype.loadLinkVars=function(){for(var c in this.history[0].linkVars){this.history[0].variables[c]=clone(this.history[0].linkVars[c])}};Passage.prototype.render=function(){var b=insertElement(null,"div","passage"+this.title,"passage");b.style.visibility="hidden";this.setTags(b);this.setCSS();insertElement(b,"div","","header");var a=insertElement(b,"div","","body content");for(var i in prerender){(typeof prerender[i]=="function")&&prerender[i].call(this,a)}new Wikifier(a,this.processText());insertElement(b,"div","","footer");for(i in postrender){(typeof postrender[i]=="function")&&postrender[i].call(this,a)}return b};Passage.prototype.excerpt=function(){var b=this.text.replace(/<<.*?>>/g,"");b=b.replace(/!.*?\n/g,"");b=b.replace(/[\[\]\/]/g,"");var a=b.split("\n");while(a.length&&a[0].length==0){a.shift()}var c="";if(a.length==0||a[0].length==0){c=this.title}else{c=a[0].substr(0,30)+"..."}return c};Passage.transitionCache="";Passage.prototype.setCSS=function(){var trans=false,text="",tags=this.tags||[],c=document.getElementById("tagCSS"),c2=document.getElementById("transitionCSS");if(c&&c.getAttribute("data-tags")!=tags.join(" ")){tale.forEachStylesheet(tags,function(passage){if(~passage.tags.indexOf("transition")){if(!Passage.transitionCache&&c2){Passage.transitionCache=c2.innerHTML}setTransitionCSS(passage.text);trans=true}else{text+=alterCSS(passage.text)}});if(!trans&&Passage.transitionCache&&c2){setTransitionCSS(Passage.transitionCache);trans=false;Passage.transitionCache=""}c.styleSheet?(c.styleSheet.cssText=text):(c.innerHTML=text);c.setAttribute("data-tags",tags.join(" "))}};var Interface={init:function(){var snapback=document.getElementById("snapback"),restart=document.getElementById("restart"),bookmark=document.getElementById("bookmark");main();if(snapback){if(!tale.lookup("tags","bookmark").length){snapback.parentNode.removeChild(snapback)}else{snapback.onclick=Interface.showSnapback}}if(bookmark&&(!tale.canBookmark()||!hasPushState)){bookmark.parentNode.removeChild(bookmark)}restart&&(restart.onclick=Interface.restart)},restart:function(){if(confirm("Are you sure you want to restart this story?")){state.restart()}},showSnapback:function(a){Interface.hideAllMenus();Interface.buildSnapback();Interface.showMenu(a,document.getElementById("snapbackMenu"))},buildSnapback:function(){var b,c=false,menuelem=document.getElementById("snapbackMenu");while(menuelem.hasChildNodes()){menuelem.removeChild(menuelem.firstChild)}for(var a=state.history.length-1;a>=0;a--){if(state.history[a].passage&&state.history[a].passage.tags.indexOf("bookmark")!=-1){b=document.createElement("div");b.pos=a;b.onclick=function(){var p=this.pos;var n=state.history[p].passage.title;while(p>=0){if(state.history.length>1){state.history.shift()}p--}state.display(n)};b.innerHTML=state.history[a].passage.excerpt();menuelem.appendChild(b);c=true}}if(!c){b=document.createElement("div");b.innerHTML="<i>No passages available</i>";document.getElementById("snapbackMenu").appendChild(b)}},hideAllMenus:function(){document.getElementById("snapbackMenu").style.display="none"},showMenu:function(b,a){if(!b){b=window.event}var c={x:0,y:0};if(b.pageX||b.pageY){c.x=b.pageX;c.y=b.pageY}else{if(b.clientX||b.clientY){c.x=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;c.y=b.clientY+document.body.scrollTop+document.documentElement.scrollTop}}a.style.top=c.y+"px";a.style.left=c.x+"px";a.style.display="block";document.onclick=Interface.hideAllMenus;b.cancelBubble=true;if(b.stopPropagation){b.stopPropagation()}}};window.onload=Interface.init;macros.back.onclick=function(back,steps){var title;if(back){if(tale.canUndo()){window.history.go(-steps);return}while(steps-->=0&&state.history.length>1){title=state.history[0].passage.title;state.history.shift()}state.loadLinkVars();state.saveVariables(tale.get(title));state.display(title,null,"back")}else{state.display(state.history[steps].passage.title)}};window.onpopstate=function(e){var title,hist,steps,s=e&&e.state;if(s&&s.id&&s.length!=null){hist=JSON.parse(sessionStorage.getItem("history"+s.id)),steps=hist.length-s.length}if(hist!=null&&steps!=null){state.history=hist;while(steps-->=0&&state.history.length>1){title=state.history[0].passage.title;state.history.shift()}state.loadLinkVars();state.saveVariables(tale.get(title));state.display(title,null,"back")}};

testplay = "";

}());
</script>
<script title="modules">


</script>
<style id="baseCSS">
body {
	background-color: #000;
	color: #fff;
	font-family: Verdana,sans-serif;
	font-size: 62.5%;
	margin: 4em 15% 5% 5em;
}
#sidebar {
	position: absolute;
	width: 12em;
	left: 7.5em;
	list-style: none;
	margin: 0;
	padding: 0 1em 0 0;
	font: bold 1.1em Verdana,sans-serif;
}
#sidebar li {
	color: #333;
	text-align: right;
	background-repeat: no-repeat;
	margin-bottom: 1em;
	line-height: 1.4em !important;
	list-style: none;
}
#sidebar li:hover {
	color: #fff;
	cursor: pointer;
}
#sidebar li a {
	color: #333;
	text-decoration: none;
}
#sidebar li a:hover, #sidebar #title a:hover {
	color: #fff;
	text-decoration: none;
}
#sidebar #title {
	color: #999;
	font-size: 150%;
	cursor: auto;
}
#sidebar #title a {
	color: #999;
}
#sidebar #storySubtitle {
	font-size: 75%;
	display: block;
}
#storyAuthor {
	font-size: 50%;
}
#sidebar #storyMenu {
	display: none;
	line-height: 2.5em;
	margin-bottom: .5em;
	color: #999;
	cursor: auto;
	text-align:right !important;
}
#sidebar #title:hover {
	color: #999;
}
#sidebar #credits {
	padding-top: 2em;
	font-weight: normal;
	font-size: 80%;
	cursor: auto;
}
#sidebar #credits:hover {
	color: #333;
}
#sidebar #credits a {
	text-decoration: none;
}
.menu {
	position: absolute;
	display: none;
	background-color: #343434;
	color: #fff;
	opacity: .9;
	border: 1px solid #fff;
	text-align: left;
	font: 1.1em Verdana;
	line-height: 2em;
}
.menu div {
	padding: 0 .4em;
}
.menu div:hover {
	cursor: pointer;
	background-color: #fff;
	color: #343434;
}
#passages {
	margin-left: 18.2em;
	border-left: 1px solid #333;
	padding-left: 1.5em;
	position:relative;
}
.passage {
	font-size: 1.2em;
	line-height: 175%;
	margin-bottom: 2em;
	text-align: left;
}
.passage ul {
	padding-top: 1.3em;
}
.passage li {
	margin-right: 6em;
}
.passage center {
	max-width:50%;
	margin:auto;
}
.passage a {
	color: #4d6ad8;
	font-weight: bold;
	text-decoration: none;
}
a.internalLink, a.externalLink, a.back, a.return {
	cursor: pointer;
}
.passage a:hover {
	color: #8ea6ff;
	text-decoration: underline;
}
a.brokenLink {
	background-color: red;
	text-decoration: none;
	color: #000;
}
.disabled {
	font-weight: bold;
	color: #333;
}
.marked {
	background-color: red;
	color: #000;
	margin-right: 12px;
	padding: 3px;
}
.marked[title] {
	cursor: help;
}
.passage ul {
	margin-left: .5em;
	padding-left: 1.5em;
}
.passage ol {
	margin-left: .5em;
	padding-left: 1.5em;
}
.passage table {
	border-collapse: collapse;
	font-size: 100%;
	margin: .8em 1.0em;
}
.passage th,.passage td,.passage tr,.passage caption {
	padding: 3px;
}
.passage hr {
	height: 1px;
}
input, button {
	background-color: #000;
	color:#fff;
	font-size: 1.2em;
}
button {
	border: 2px outset #333;
	border-radius:0.5em;
	padding: 0.2em 0.8em;
}
button:active {
	border-style:solid;
}
input[type=text] {
	border: 2px solid #333;
	width: 20%;
}
input[type=text]:hover {
	border-color: #fff;
}
#storeArea {
	display: none;
}
#noscript {
	margin-left: 18.2em;
	font-size: 1.2em;
	font-weight: bold;
}
img {
	vertical-align:bottom;
}
</style>
<style id="transitionCSS">
.transition-in {
	opacity:0;
	position:absolute;
}
.passage:not(.transition-out) {
	transition: 1s;
	-webkit-transition: 1s;
}
.transition-out {
	opacity:0 !important;
	position:absolute;
}
</style>
<style id="storyCSS"></style>
<style id="tagCSS"></style>
</head>
<body>
<ul id="sidebar">
<li id="title" class="storyElement"><span id="storyTitle" class="storyElement"></span><span id="storySubtitle" class="storyElement"></span><span id="titleSeparator"></span><span id="storyAuthor" class="storyElement"></span></li>
<li id="storyMenu" class="storyElement"></li>
<li id="snapback">Rewind</li>
<li id="restart">Restart</li>
<li><a id="bookmark" title="Permanent link to this passage">Bookmark</a></li>
<li id="credits">
This story was created with <a href="http://twinery.org/">Twine</a> and is powered by <a href="http://tiddlywiki.com/">TiddlyWiki</a>
</li>
</ul>
<div id="snapbackMenu" class="menu"></div>
<div id="passages">
<noscript><div id="noscript">Please enable Javascript to play this story!</div></noscript>
<style>#sidebar{display:none;}</style>
</div>
<div id="storeArea"><div tiddler="Glowing Eggs" tags="" modified="201709051524" created="201709051524" twine-position="150,850" modifier="twee">html {\n  height: 100%;\n  height: 100vh;\n}\nbody {\n  background-image: -webkit-linear-gradient(bottom, hsla(255,100%,20%,0.4) 0%,hsla(219,100%,50%,0) 100%);\n  background-image: linear-gradient(to top, hsla(255,100%,20%,0.4) 0%,hsla(219,100%,50%,0) 100%);\n  background-repeat: no-repeat;\n  background-attachment:fixed;\n  height: 90%;\n}\n.passage {\n  color: hsl(240,100%,90%);\n  font-weight: lighter;\n  font-size: 1.5em;\n}\n#passages {\n  margin: 0 0 0 18rem;\n  border-left: 0;\n}\n#snapback, #share {\n\tdisplay:none;\n}\na.internalLink, a.externaLink {\n\tcolor: hsl(300,100%,40%);\n\ttransition: 0.5s;\n\t-webkit-transition: 0.5s;\n}\n.passage ul {\n\tpadding-top:1.3em; \n\ttext-align:center;\n}\n.passage li {\n\tdisplay:inline;\n\tmargin-right:6em;\n}\na.internalLink:hover, a.externaLink:hover, #sidebar li:hover, #sidebar li a:hover {\n\tcolor: hsl(300,100%,70%);\n\ttext-shadow: fuchsia 0 0 1emt;\n\ttext-decoration: none;\n}\n#sidebar li, #sidebar li a {\n\tcolor: hsla(300, 100%, 40%, 0.25);\n\ttransition: 1s;\n\t-webkit-transition: 1s;\n}\n#sidebar li a {\n\tcolor: hsla(300, 100%, 40%, 0.35);\n}\n#sidebar, #sidebar:hover {\n\tbackground:#005;\n\tfont-size: 1.6em;\n      background: -webkit-linear-gradient(top, hsla(255,100%,50%,0.3) 0%,hsla(219,100%,50%,0) 100%);\n      background: linear-gradient(to bottom, hsla(255,100%,50%,0.3) 0%,hsla(219,100%,50%,0) 100%);\n\tleft: 0;\n\ttop: 0;\n\twidth: 12.5rem;\n\tpadding: 4rem 2rem 0rem 4rem;\n\theight: 100%;\n}\n#storyTitle {\n\tcolor: rgba(255,0,255,0.75) !important;\n\tfont-size: 1.4em;\n}\n#sidebar #title, #sidebar #title:hover {\n\tcolor: rgba(255,0,255,0.50);\n\ttransition: 1s;\n\t-webkit-transition: 1s;\n}\n#sidebar #title:hover {\n\tcolor: rgba(255,128,255,0.50);\n\ttext-shadow: fuchsia 0 0 2em;\n}\n\n@media screen and (max-width: 960px) {\n  #sidebar, #sidebar:hover {\n    width: 10rem;\n    padding: 2rem 1rem 0rem 2rem;\n  }\n  #passages {\n    margin: 0 0 0 12rem;\n  }\n  .passage li {\n\tdisplay:list-item;\n      list-style-type: none;\n  }\n}\n@media screen and (max-width: 640px) {\n  #sidebar, #sidebar:hover {\n    width: 100%;\n    height: 5rem;\n    padding: 2rem 1rem 0rem 2rem;\n    text-align:center;\n    background: #000;\n  }\n  #sidebar #storySubtitle { display: inline-block; padding-left: 2em;}\n  #sidebar li { display:inline; margin-right: 2em; }\n  #credits, #snapback, #share { display: none !important; }\n  #passages {\n    margin: 12rem 0 0 0em;\n  }\n}</div><div tiddler="a08" tags="" modified="201709051629" created="201709051605" twine-position="211,451" modifier="twee">&lt;&lt;styleswap &quot;Sodden Tome&quot;&gt;&gt;\n\nSo many severed hands assail us. Where are the bodies? Fingers &lt;&lt;replace &quot;are tasty and portable and should not be wasted.&quot;&gt;&gt;touched by rot are not tasty, so I spit them [[out|a09]].&lt;&lt;endreplace&gt;&gt;</div><div tiddler="a09" tags="" modified="201709051630" created="201709051607" twine-position="211,315" modifier="twee">&lt;&lt;styleswap &quot;Sodden Tome&quot;&gt;&gt;\n\n&lt;&lt;replace &quot;More and larger dead are coming.&quot;&gt;&gt;We head inside for better ground, and Cailean the dwarf is [[there|a10]].&lt;&lt;endreplace&gt;&gt;</div><div tiddler="The Earth's Story" tags="" modified="201709051524" created="201709051524" twine-position="1130,150" modifier="twee">body {\n  margin: 0;\n  background-color:#000;\n}\n#passages {\n  margin: 0;\n  padding: 0;\n  border: 0;\n}\n.passage {\n  width: 40%;\n  min-width: 26em;\n  height: 33%;\n  min-height: 33%;\n  font-family: Helvetica, &quot;Helvetica Neue&quot;, Arial, sans-serif;\n  letter-spacing: 0.1em;\n  padding: 1.5em;\n  padding-left: 2em;\n  font-size:1.8em;\n  background-color:#000;\n  color:#eee;\n  margin: 10%;\n  border: silver ridge 0.8em;\n  border-radius: 1em;\n}\n.passage[data-tags~=mint] {\n  border-color: MediumAquaMarine;\n}\n.passage[data-tags~=strawberry] {\n  border-color: HotPink;\n}\n.passage[data-tags~=banana] {\n  border-color: Gold;\n}\n.passage[data-tags~=peanut] {\n  border-color: Peru;\n}\n.content::before {\n  content: '&#8226;';\n  position: relative;\n  left: -0.6em;\n  margin-right: -0.4em;\n}\na.internalLink, a.externalLink {\n  border-bottom: solid #fff 1px;\n  color:#eee;\n  font-weight:normal;\n}\na.internalLink:hover, a.externalLink:hover {\n  text-decoration:none;\n  border-bottom: solid #fff 2px;\n  color:#fff;\n  font-weight:normal;\n  padding-left: 0;\n}\na.internalLink:active, a.externalLink:active {\n  border-bottom: 0;\n}\n#sidebar {\n  display:none;\n}</div><div tiddler="Sugarcaneagon" tags="" modified="201709051524" created="201709051524" twine-position="10,1128" modifier="twee">/* Hexagon */\nhead {\n    display:block;\n    z-index:-10;\n    position:fixed;\n    top: 50%;\n    left: 50%;\n    margin-left: -10em;\n    margin-top: -10em;\n    animation: spin 10s linear infinite, colour 10s linear infinite; -webkit-animation: spin 10s linear infinite,colour 10s linear infinite;\n}\nhead, head::before, head::after {\n    width: 20em;\n    height: 11.54em;\n    background-color:transparent;\n    border-left: 1em solid #f38506;\n    border-right: 1em solid #f38506; \n    box-sizing: border-box;\n    -moz-box-sizing: border-box;\n}\nhead::before, head::after {\n    content: &quot;&quot;;\n    position: absolute;\n    left: -1em;\n    transform:rotate(60deg);-webkit-transform:rotate(60deg);\n    animation: colour 10s linear infinite; -webkit-animation: colour 10s linear infinite;\n}\nhead::after {\n    transform:rotate(-60deg);-webkit-transform:rotate(-60deg);\n}\n@keyframes  colour {\n  0%, 50%,100% { border-left: 1em solid #f38506; border-right: 1em solid #f38506; }\n  25%, 75% { border-left: 1em solid #2ce969; border-right: 1em solid #2ce969;  }\n}\n@-webkit-keyframes colour {\n  0%, 100% { border-left: 1em solid #f38506; border-right: 1em solid #f38506; }\n  50% { border-left: 1em solid #2ce969; border-right: 1em solid #2ce969;  }\n}\n@keyframes spin {\n  0% {}\n  100% { transform:rotate(60deg); }\n  50% { transform:rotate(30deg); }\n}\n@-webkit-keyframes spin {\n  0% {}\n  100% { -webkit-transform:rotate(60deg); }\n  50% { -webkit-transform:rotate(30deg); }\n}\n/* Text */\nhtml {\n  animation: bgcolour 10s linear infinite; -webkit-animation: bgcolour 10s linear infinite;\n}\nbody {\n  margin: 0;\n  background:transparent;\n}\n@keyframes bgcolour {\n  25%, 75% { background-color: #000; }\n  0%, 100% { background-color: #271400; }\n  50% { background-color: #072400; }\n}\n@-webkit-keyframes bgcolour {\n  25%, 75% { background-color: #000; }\n  0%, 100% { background-color: #271400; }\n  50% { background-color: #072400; }\n}\n#passages {\n  border-left: 0;\n  margin: 0;\n  padding: 0;\n  line-height:100vh;\n}\n.passage {\n  position:absolute;\n  top: 0;  bottom: 0;  left: 0;  right: 0;\n  width: 75%;\n  height: 75%;\n  margin:auto;\n  font: bold 5em/1.25em Verdana, Geneva, Tahoma, sans-serif;\n  text-shadow: 0.15em 0.15em 0 #000;\n  color: #fff;\n  letter-spacing: -0.04em;\n  text-align:center;\n}\na.internalLink:hover, a.externalLink:hover {\n  color:#c4ff40 !important;\n  text-decoration: none;\n}\na.internalLink, a.externalLink {\n  color:#8cc740;\n}\n/* Sidebar */\n#sidebar #title, #sidebar li {\n  font-size:100% !important;\n}\n#storyTitle::before, #restart::before {\n content: &quot;&quot;;\n position:absolute;\n top:0;\n left:0;\n z-index:-2;\n width:110%;\n height:100%;\n transform: skewX(-30deg);  -webkit-transform: skewX(-30deg);\n animation: bgcolour2 10s linear infinite;  -webkit-animation: bgcolour2 10s linear infinite;\n}\nli#restart::before {\n left:auto; right:0;\n transform: skewX(30deg);  -webkit-transform: skewX(30deg);\n}\n#storyTitle, li#restart {\n  position:fixed;\n  left: 0;\n  top: 0;\n  font: bold 4em/1.25em Verdana, Geneva, Tahoma, sans-serif !important;\n  letter-spacing: -0.04em;\n  padding: 0.05em 0.75em 0.1em 0.75em;\n  animation: bgcolour2 10s linear infinite;  -webkit-animation: bgcolour2 10s linear infinite;\n  color:#fff;\n}\nli#restart {\n  left: auto;\n  right: 0;\n}\n@keyframes  bgcolour2 {\n  0%, 100% { background-color: #f38506; }\n  50% { background-color: #2ce969;  }\n}\n@-webkit-keyframes bgcolour2 {\n  0%, 100% { background-color: #f38506; }\n  50% { background-color: #2ce969;  }\n}\n#title :not(#storyTitle){\n  display:none;\n}\n#storymenu, #snapback, #share, #credits {\n  display:none;\n}\n@media screen and (max-width: 960px) {\n  body { font-size: 55%; }\n}\n@media screen and (max-width: 840px) {\n  body { font-size: 45%; }\n}\n@media screen and (max-width: 720px) {\n  body { font-size: 40%; }\n}</div><div tiddler="a02" tags="" modified="201709051628" created="201709051557" twine-position="74,309" modifier="twee">&lt;&lt;styleswap &quot;Sodden Tome&quot;&gt;&gt;\n\n&lt;&lt;replace &quot;It is colder than I have ever known.&quot;&gt;&gt;For warmth, I clothe myself with many furs and light a torch.&lt;&lt;endreplace&gt;&gt;\n\nEven the rain falls slow, [[frozen|a03]].\n</div><div tiddler="Guest of a Bluish Orb" tags="" modified="201709051524" created="201709051524" twine-position="1120,563" modifier="twee">/*#storeArea {\n  display:block;\n  position:fixed;\n  background-color: lightblue;\n  background-image: -webkit-radial-gradient(center, ellipse cover, #c1e3ff 0%,#329fff 99%);\n  background-image: radial-gradient(ellipse at center, #c1e3ff 0%,#329fff 99%);\n  border-radius:35rem; border-radius:35vw;\n  box-shadow: 0 0 3rem 0.5rem #329fff;\n  width: 35rem; width: 35vw;\n  height: 35rem; height: 35vw;\n  top: 70%; top: 70vh;\n  left: 70%; left: 70vw;\n  z-index: -8;\n}\n#storeArea * {\n  display:none;\n}*/\n#sidebar {\n  font-family: inherit;\n  font-size: 0.9rem;\n  width: 100%;\n  max-height: 30em;\n  padding: 2em;\n  top: 0;\n  left: 0;\n  z-index:5;\n  background-color: rgba(22,22,44,0.9);\n}\n#sidebar #titleSeparator, #sidebar #share {\n display:none;\n}\n#sidebar li {\n  color: inherit;\n  text-align:inherit;\n  display:inline;\n  font-weight:normal;\n}\n#sidebar #storyMenu, #sidebar #storyMenu ul {\n  text-align: left;\n  color: #bbb;\n  display:inline-block !important;\n}\n#sidebar #storyTitle {\n  position:relative;\n  top:-0.1em;\n}\n#sidebar #snapback, #sidebar #restart, #sidebar a, .menu {\n  border-radius:0.5em;\n  border: solid 1px #333;\n  padding: 0.2em 0.8em;\n  color:#bbb !important;\n}\n#sidebar #snapback, #sidebar #restart, #sidebar a {\n  margin-left: 1.5em;\n}\n#sidebar #snapback:hover, #sidebar #restart:hover, #sidebar a:hover, .menu {\n  border: solid 1px white;\n}\n.menu {\n  padding: 0;\n  background-color: rgba(22,22,44,0.9);\n}\n.menu div {\n  padding: 0.2em 0.8em;\n}\n.passage a {\n  border-radius:0.5em;\n  border: solid 1px #666;\n  padding: 0.05em 0.3em;\n  color: #fff;\n  font-weight:normal;\n  white-space:pre-line;\n}\n.passage a:hover {\n  text-decoration:none;\n  border-color:#fff;\n  color: #fff;\n}\n#sidebar #credits {\n  display:none;\n}\n#passages {\n  border-left: 0;\n  margin: 30em 0 4em 0;\n}\n.passage {\n  font-size: 1.9em;\n}\nbody {\n  font-family: &quot;Century Gothic&quot;, CenturyGothic, sans-serif;\n  background-image: -webkit-linear-gradient(-45deg, #002 0%,#000 100%);\n  background-image: linear-gradient(135deg, #002 0%,#000 100%);\n  letter-spacing:2px;\n}</div><div tiddler="a01" tags="" modified="201709051556" created="201709051554" twine-position="55,161" modifier="twee">&lt;&lt;styleswap &quot;Sodden Tome&quot;&gt;&gt;\n\nI wake. They are scared &lt;&lt;replace &quot;and weak&quot;&gt;&gt;of me&lt;&lt;endreplace&gt;&gt;, so I leave their hut of stone and wood.\n\nI am [[hungry|a02]].\n</div><div tiddler="a06" tags="" modified="201709051629" created="201709051603" twine-position="199,719" modifier="twee">&lt;&lt;styleswap &quot;Sodden Tome&quot;&gt;&gt;\n\n&lt;&lt;replace &quot;Yelling alerts us.&quot;&gt;&gt;We look south and see there many soft ones, arisen though long [[dead|a07]].&lt;&lt;endreplace&gt;&gt;</div><div tiddler="a07" tags="" modified="201709051629" created="201709051604" twine-position="198,585" modifier="twee">&lt;&lt;styleswap &quot;Sodden Tome&quot;&gt;&gt;\n\nWe fight together against these things. &lt;&lt;replace &quot;The warmbloods use their weapons of wood and iron.&quot;&gt;&gt;I fight with better ones given to me at birth, tooth and [[claw|a08]].&lt;&lt;endreplace&gt;&gt;</div><div tiddler="StorySubtitle" tags="" modified="201709051636" created="201709051524" twine-position="686,169" modifier="twee"></div><div tiddler="a05" tags="" modified="201709051629" created="201709051601" twine-position="59,718" modifier="twee">&lt;&lt;styleswap &quot;Sodden Tome&quot;&gt;&gt;\n\nThe birdman &lt;&lt;replace &quot;I have no name for.&quot;&gt;&gt;makes only scraping noise for his name, so he shall remain 'birdman'.&lt;&lt;endreplace&gt;&gt;\n\nHis presence makes me salivate. I will not waste him if he [[freezes|a06]].\n</div><div tiddler="Start" tags="" modified="201709051634" created="201709051524" twine-position="48,9" modifier="twee">&lt;&lt;styleswap &quot;Sodden Tome&quot;&gt;&gt;\n&lt;&lt;playsound &quot;SlaarnTheme.mp3&quot;&gt;&gt;\n\n&lt;&lt;replace &quot;I am Slaarn.&quot;&gt;&gt;I am champion of the gods! Sent here to this dying world to help these weak warmbloods!&lt;&lt;endreplace&gt;&gt;\n\nHear now my [[tales|a01]].\n</div><div tiddler="Draft" tags="" modified="201709051524" created="201709051524" twine-position="1097,715" modifier="twee">html {\n  width: 100%;\n  background: [img[background]];\n  height: 100%;\n  display: table;\n}\nbody {\n  font-size: 100%;\n  background-color: transparent;\n  margin: 0;\n  height:100%;\n  display:table-cell;\n  vertical-align: middle;\n}\n#passages {\n  border-left: 0px;\n  margin: 0;\n  padding: 5% 0;\n}\n.passage {\n  /* Horizontal centering */\n  width: 60%;\n  background-color: darkgray;\n  color: black;\n  font-size: 100%;\n  padding: 5em;\n}\n\n/* No sidebar */\n#sidebar {\n  display:none;\n}\n\n/* Links */\n.passage a {\n  background-color:dimgray;\n  padding: 2px;\n  font-weight: normal;\n  color: lightgray;\n}\n.passage a:hover {\n  background-color:lightgray;\n  color: black;\n  text-decoration: none;\n}\n@media screen and (max-width: 960px) {\n  .passage { font-size: 90%; width: 70%; }\n}\n@media screen and (max-width: 840px) {\n  .passage {  font-size: 87.5%; width: 80%; }\n}\n@media screen and (max-width: 720px) {\n  .passage { font-size: 75%; width: 90%; }\n}</div><div tiddler="Orange Highlight" tags="" modified="201709051524" created="201709051524" twine-position="1270,10" modifier="twee">body {\n  margin: 5% 0 0 0;\n  background-color:#000;\n}\n#passages{\n  margin: 0;\n  padding: 0;\n  border: 0;\n}\n.passage {\n  font-family: &quot;Times New Roman&quot;,serif;\n  text-align:left;\n  color:#000;\n  width: 40em;\n  padding: 2em;\n  font-size:3em;\n  background-color:#fff;\n  background: -webkit-linear-gradient(left, #aaa 0%,#fff 19%);\n  background: linear-gradient(to right, #aaa 0%,#fff 19%);\n}\na.internalLink {\n  color:#620;\n  background-color:hsla(48, 100%, 50%, 0.75);\n}\na.externalLink {\n  color:#602;\n  background-color:hsla(320, 100%, 50%, 0.75);\n}\na.internalLink:hover {\n  color:#410;\n  background-color:hsla(40, 100%, 50%, 0.9);\n  text-decoration: none;\n}\na.externalLink:hover {\n  color:#401;\n  background-color:hsla(320, 100%, 50%, 0.9);\n  text-decoration: none;\n}\na.internalLink:active {\n  color:#140;\n  background-color:hsla(80, 100%, 50%, 0.9);\n  text-decoration: none;\n}\na.externalLink:active {\n  color:#104;\n  background-color:hsla(280, 100%, 50%, 0.9);\n  text-decoration: none;\n}\n#sidebar {\n  display:none;\n}</div><div tiddler="HTML Adventures" tags="" modified="201709051524" created="201709051524" twine-position="430,850" modifier="twee">#passages {\n  position:relative;\n  width: 75%;\n  width: 75vw;\n  max-width:950px;\n  background-color:#c6c6c6;\n  margin:0 auto 0 auto;\n  padding:24px 0 24px 0;\n  border:0;\n  transition: height 2s; -webkit-transition:height 2s;\n}\n.passage {\n  font: bold 1.75em Courier, monospace !important;\n  background-color:#eee;\n  width: 51.3vw;\n  max-width:650px;\n  color:black;\n  margin:0 auto 0 auto;\n  padding:2em 2.5em;\n  text-align:center;\n}\na.internalLink, a.externalLink, a.internalLink:hover, a.externalLink:hover  {\n  color:#00E;\n  text-decoration:underline;\n}\nli a.internalLink, li a.externalLink {\n  font-size: x-large;\n}\n.passage blockquote {\n  border: 1px dashed gray;\n  padding: 1em;\n}\n.header {\n  height: 7px;\n}\nbody {\n  background-color:#5a5a5a;\n  margin:0;\n  padding:0;\n}\n#sidebar {\n  position:relative;\n  text-align:center;\n  top:0px;\n  left:0px;\n  width: 75%;\n  width: 75vw;\n  max-width: 950px;\n  height: 1.5em;\n  margin:0 auto 0 auto;\n  padding: 0.2em 0;\n  overflow:hidden;\n  background-color:#000;\n}\n#storyTitle { color: #fff; }\n#storySubtitle { color: deepskyblue; }\n#storyAuthor { color: lime; }\n#sidebar #snapback { color: yellow; }\n#sidebar #restart { color: orange; }\n#sidebar #share { color: red; }\n#sidebar * {\n  font:bold 12px Arial, sans-serif !important;\n  background-color:clear !important;\n  display:inline !important;\n}\n#sidebar a.internalLink {\n  color: #00e !important;\n}\n#sidebar a.externalLink {\n  color: #f6f !important;\n}\n#sidebar a:hover, #sidebar #snapback:hover,  #sidebar #restart:hover, #sidebar #share:hover {\n  color:#fff !important;\n  text-decoration:underline !important;\n}\n#sidebar a:active, #sidebar #snapback:active,  #sidebar #restart:active, #sidebar #share:active  {\n  color:#fff !important;\n  background-color:#000 !important;\n  display:inline !important;\n}\n#sidebar li, #sidebar li span {\n  margin-left: 1em;\n  margin-right: 1em;\n}\n#sidebar a, #sidebar a:hover {\n  border: 0 !important;\n  box-shadow: none;\n}\n.menu {\n  z-index:4;\n  background-color:#eee;\n  color:#00e;\n  opacity:1;\n  border: solid #000 1px;\n  box-shadow: #000 0.1em 0.1em 0;\n}\n.menu div:hover {\n  background-color:deepskyblue;\n  color:#fff;\n}\n#credits, #titleSeparator {\n  display:none !important;\n}\n@media screen and (max-width: 960px) {\n  .passage {\n    font-size: 1.33em  !important;\n  }\n  #storySubtitle {\n    display:none !important;\n  }\n}\n@media screen and (max-width: 640px) {\n  .passage {\n    font-size: 1.25em !important;\n  }\n  #share, #storyAuthor {\n    display:none !important;\n  }\n}</div><div tiddler="Hypercane" tags="" modified="201709051524" created="201709051524" twine-position="1130,10" modifier="twee">body {\n  margin: 10% 0 10% 0;\n}\n#passages{\n  margin: 0;\n  padding: 0;\n  border: 0;\n}\n.passage, #sidebar * {\n  font-family: Geneva, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;\n  color:#000;\n  text-align:left;\n}\n.passage {\n  border-radius: 0.2em;\n  width: 60%;\n  margin: auto;\n  padding: 2em;\n  font-size:1.5rem;\n  background-color:#fff;\n  border: solid #000 0.05em;\n  box-shadow: #000 0.5em 0.5em 0;\n}\na.internalLink, a.externalLink {\n  border: solid #000 0.05em;\n  white-space: nowrap;\n  padding: 0.1em 0.2em 0.1em 0.2em;\n  border-radius: 0.5em;\n  color:#000;\n}\na.internalLink:hover, a.externalLink:hover {\n  text-decoration: none;\n  box-shadow: #000 0 0 0 0.1em;\n  color:#000;\n}\na.internalLink:active, a.externalLink:active {\n  color: #fff;\n  background-color:#000;\n}\nbody {\n  background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAEAQMAAACTPww9AAAABGdBTUEAALGPC/xhBQAAAAZQTFRFAAAA////pdmf3QAAAA5JREFUeF5jOACEBgwGAAnIAeGomjuiAAAAAElFTkSuQmCC);\n}\n#sidebar {\n  position:absolute;\n  top:0px;\n  left:0px;\n  width:99.2%;\n  overflow-x:hidden;\n  background-color:#fff;\n  border-bottom: solid #000 1px;\n}\n#sidebar * {\n  color: #000 !important;\n  font-size:1.5rem;\n  background-color:clear !important;\n  display:inline !important;\n}\n#sidebar a:hover, #sidebar #snapback:hover,  #sidebar #restart:hover {\n  text-decoration:underline !important;\n}\n#sidebar a:active, #sidebar #snapback:active,  #sidebar #restart:active  {\n  color:#fff !important;\n  font-size:1.5rem;\n  background-color:#000 !important;\n  display:inline !important;\n}\n#sidebar li, #sidebar li &gt; span {\n  margin-left: 1rem;\n  margin-right: 1rem;\n}\n#sidebar a, #sidebar a:hover {\n  border: 0 !important;\n  box-shadow: none;\n}\n.menu {\n  background-color:#fff;\n  color:#000;\n  opacity:1;\n  font-size: 1.5rem;\n  border: solid #000 1px;\n  box-shadow: #000 0.1em 0.1em 0;\n}\n.menu div:hover {\n  background-color:#000;\n  color:#fff;\n}\n#credits, #share, #titleSeparator, #sidebar li br {\n  display:none !important;\n}</div><div tiddler="a15" tags="" modified="201709051632" created="201709051618" twine-position="492,578" modifier="twee">&lt;&lt;styleswap &quot;Sodden Tome&quot;&gt;&gt;\n\nIn the fighting, a smoothskin with spear and more metal scales joined us. He shouts strange cries, like 'shield wall!'\n\n&lt;&lt;replace &quot;Some dead have reached town and passed us!&quot;&gt;&gt;We rush to save the [[mewling warmbloods within!|a16]]&lt;&lt;endreplace&gt;&gt;\n</div><div tiddler="Remembering the 90s" tags="" modified="201709051524" created="201709051524" twine-position="1270,150" modifier="twee">body {\n  background:LightGrey;\n  color: #000;\n  font: medium &quot;Times New Roman&quot;, Times, serif;\n  margin: auto;\n  padding: 8px;\n}\n#passages {\n  margin: auto;\n  border: 0;\n  padding: 0;\n}\n.header, .footer {\n  border: 1px inset;\n  margin: 0.5rem auto;\n}\n.passage {\n  font: inherit;\n  line-height: inherit;\n  margin: auto;\n}\n.passage ul {\n  padding: 0;\n  text-align: left;\n}\n.passage li {\n  display:inherit;\n  margin: 0;\n}\na, #sidebar #snapback, #sidebar #restart, #sidebar #share, .menu div {\n  font-weight:inherit !important;\n  text-decoration: underline !important;\n  color: #00F !important;\n}\na.visited {\n  color: #7F007F;\n}\n#sidebar {\n  font: inherit !important;\n  position:static;\n  width: auto;\n  list-style: disc outside;\n}\n#sidebar ul {\n  padding: inherit;\n}\n#sidebar li {\n  color: inherit;\n  text-align:inherit;\n  margin:inherit;\n  display:inline;\n}\n#sidebar #titleSeparator {\n  display:none;\n}\n#sidebar #title, #sidebar #title:hover {\n  color:inherit;\n}\n#sidebar #storyTitle, #sidebar #storyTitle:hover {\n  font-size: 2rem;\n  margin: .67rem 0;\n  font-weight:bold;\n}\n#sidebar #storySubtitle {\n  font-size: inherit;\n  font-weight:bold;\n}\n#sidebar #storyAuthor::before {\n  content: &quot;by &quot;;\n}\n#sidebar #storyAuthor {\n  font-size:medium;\n  display:block;\n  font-weight:bold !important;\n}\n#sidebar #credits {\n  display:block;\n  font-size: smaller;\n  padding: inherit;\n}\n#snapbackMenu::before {\n  content: &quot;Rewind to:&quot;;\n  font-weight:bold;\n}\n#shareMenu::before {\n  content: &quot;Share this story at:&quot;;\n  font-weight:bold;\n}\n.menu::before {\n  content: &quot;Rewind to:&quot;;\n  font-weight:bold;\n}\n.menu, .menu div:hover {\n  position: static;\n  background-color:inherit;\n  color:inherit;\n  opacity:1;\n  border:0;\n  font:inherit;\n  line-height:inherit;\n}\n.menu div {\n  margin: 0 1.12rem;\n  display: list-item;\n  list-style:disc outside;\n}</div><div tiddler="a03" tags="" modified="201709051628" created="201709051558" twine-position="71,454" modifier="twee">&lt;&lt;styleswap &quot;Sodden Tome&quot;&gt;&gt;\n\nBefore the stone of the portal I stand. &lt;&lt;replace &quot;Others are coming.&quot;&gt;&gt;A smoothskin and a birdman join me.&lt;&lt;endreplace&gt;&gt;\n\nThey are no [[threat|a04]].\n</div><div tiddler="StoryTitle" tags="" modified="201709051636" created="201709051524" twine-position="412,168" modifier="twee">Tales of Slaarn</div><div tiddler="Sound scripts" tags="script" modified="201709051635" created="201709051635" twine-position="267,13" modifier="twee">(function () {\n  &quot;use strict&quot;;\n  version.extensions['soundMacros'] = {\n    major: 1,\n    minor: 1,\n    revision: 2\n  };\n  var p = macros['playsound'] = {\n    soundtracks: {},\n    handler: function (a, b, c, d) {\n      var loop = function (m) {\n          if (m.loop == undefined) {\n            m.loopfn = function () {\n              this.play();\n            };\n            m.addEventListener('ended', m.loopfn, 0);\n          } else m.loop = true;\n          m.play();\n          };\n      var s = eval(d.fullArgs());\n      if (s) {\n        s = s.toString();\n        var m = this.soundtracks[s.slice(0, s.lastIndexOf(&quot;.&quot;))];\n        if (m) {\n          if (b == &quot;playsound&quot;) {\n            m.play();\n          } else if (b == &quot;loopsound&quot;) {\n            loop(m);\n          } else if (b == &quot;pausesound&quot;) {\n            m.pause();\n          } else if (b == &quot;unloopsound&quot;) {\n            if (m.loop != undefined) {\n              m.loop = false;\n            } else if (m.loopfn) {\n              m.removeEventListener('ended', m.loopfn);\n              delete m.loopfn;\n            }\n          } else if (b == &quot;stopsound&quot;) {\n            m.pause();\n            m.currentTime = 0;\n          } else if (b == &quot;fadeoutsound&quot; || b == &quot;fadeinsound&quot;) {\n            if (m.interval) clearInterval(m.interval);\n            if (b == &quot;fadeinsound&quot;) {\n              if (m.currentTime&gt;0) return;\n              m.volume = 0;\n              loop(m);\n            } else {\n              if (!m.currentTime) return;\n              m.play();\n            }\n            var v = m.volume;\n            m.interval = setInterval(function () {\n              v = Math.min(1, Math.max(0, v + 0.005 * (b == &quot;fadeinsound&quot; ? 1 : -1)));\n              m.volume = Math.easeInOut(v);\n              if (v == 0 || v == 1) clearInterval(m.interval);\n              if (v == 0) {\n                m.pause();\n                m.currentTime = 0;\n                m.volume = 1;\n              }\n            }, 10);\n          }\n        }\n      }\n    }\n  }\n  macros['fadeinsound'] = p;\n  macros['fadeoutsound'] = p;\n  macros['unloopsound'] = p;\n  macros['loopsound'] = p;\n  macros['pausesound'] = p;\n  macros['stopsound'] = p;\n  macros['stopallsound'] = {\n    handler: function () {\n      var s = macros.playsound.soundtracks;\n      for (var j in s) {\n\t\tif (s.hasOwnProperty(j)) {\n          s[j].pause();\n          if (s[j].currentTime) {\n\t\t    s[j].currentTime = 0;\n\t\t  }\n\t\t}\n      }\n    }\n  }\n  var div = document.getElementById(&quot;storeArea&quot;).firstChild;\n  var fe = [&quot;ogg&quot;, &quot;mp3&quot;, &quot;wav&quot;, &quot;webm&quot;];\n  while (div) {\n    var b = String.fromCharCode(92);\n    var q = '&quot;';\n    var re = &quot;['&quot; + q + &quot;]([^&quot; + q + &quot;']*?)&quot; + b + &quot;.(ogg|mp3|wav|webm)['&quot; + q + &quot;]&quot;;\n    k(new RegExp(re, &quot;gi&quot;));\n    div = div.nextSibling;\n  }\n\n  function k(c, e) {\n    do {\n      var d = c.exec(div.innerHTML);\n      if (d) {\n        var a = new Audio();\n        if (a.canPlayType) {\n          for (var i = -1; i &lt; fe.length; i += 1) {\n            if (i &gt;= 0) d[2] = fe[i];\n            if (a.canPlayType(&quot;audio/&quot; + d[2])) break;\n          }\n          if (i &lt; fe.length) {\n            a.setAttribute(&quot;src&quot;, d[1] + &quot;.&quot; + d[2]);\n            a.interval = null;\n            macros.playsound.soundtracks[d[1]] = a;\n          } else console.log(&quot;Browser can't play '&quot; + d[1] + &quot;'&quot;);\n        }\n      }\n    } while (d);\n  }\n}());</div><div tiddler="Gravescale" tags="" modified="201709051524" created="201709051524" twine-position="10,990" modifier="twee">#share, #credits { display: none !important; }\n.passage {\n  color:rgba(0,0,0,0) !important;\n  text-shadow: #bbb 0 0 0.1em, #bbb 0 0 1em;\n}\n#passages {\n  border-left: 0;\n  border-left: 0;\n  margin-left: 18em;\n  margin-top: 6em;\n}\nhtml {\n  height:100%;\n  height:100vh;\n}\nbody {\n  font-size: 0.9em;\n  background-repeat: no-repeat;\n  background-image: -webkit-linear-gradient(top, #000000 0%,#353535 57%,#1e1e1e 64%,#000000 100%);\n  background-image: linear-gradient(to bottom, #000000 0%,#353535 57%,#1e1e1e 64%,#000000 100%);\n}\na.internalLink, a.externalLink {\n  color:rgba(0,0,0,0);\n  text-shadow: silver 0 0 0.1em, silver 0 0 1em;\n}\na.internalLink:hover, a.externalLink:hover {\n  color:rgba(255,255,255,0.5) !important;\n  text-shadow: silver 0 0 0.1em, silver 0 0 1em;\n  text-decoration:none;\n}\n#sidebar {\n  top:0;\n  left:0;\n  padding-top: 4.2em;\n  padding-left: 4.2em;\n  width: 16em;\n  height: 100%;\n  background-image: -webkit-linear-gradient(left, rgba(0,0,0,1) 0%,rgba(0,0,0,0) 100%);\n  background-image: linear-gradient(to right, rgba(0,0,0,1) 0%,rgba(0,0,0,0) 100%);\n}\n#sidebar, #sidebar #title, #sidebar a {\n  color: rgba(0,0,0,0);\n  text-shadow: #555 0 0 0.1em, #555 0 0 1em !important;\n}\n#sidebar #title:hover, #sidebar a.hover, #sidebar li:hover {\n  color:rgba(255,255,255,0.25) !important;\n}\n#sidebar li {\n  text-align: left;\n}\n@media screen and (max-width: 960px) {\n  body {\n      font-size: 0.8em;\n  }\n  #sidebar {\n    padding-top: 3em;\n    padding-left: 3em;\n    width: 9em;\n  }\n  #passages {\n    margin-left: 15em;\n  }\n}\n@media screen and (max-width: 640px) {\n  body {\n      font-size: 0.8em;\n  }\n  #sidebar, #sidebar:hover {\n    width: 100%;\n    height: 6em;\n    padding: 2em 1em 2em 2em;\n    text-align:center;\n    background-image: -webkit-linear-gradient(top, rgba(0,0,0,1) 0%,rgba(0,0,0,0) 100%);\n    background-image: linear-gradient(to bottom, rgba(0,0,0,1) 0%,rgba(0,0,0,0) 100%);\n  }\n  #sidebar li { display:inline; margin-right: 2em; }\n  #passages {\n    margin: 14em 0 0 0em;\n  }\n}</div><div tiddler="css" tags="stylesheet" modified="201709051548" created="201709051524" twine-position="871,161" modifier="twee">.passage[id=passageStart] a.internalLink {\n  white-space:nowrap;\n}\n\n.revision-span-in {\n\topacity: 0;\n}\n.revision-span:not(.revision-span-out) {\n\ttransition: 1s; -webkit-transition: 1s;\n}\n.revision-span-out {\n\tposition:absolute;\n\topacity: 0;\n}</div><div tiddler="Framing Story" tags="" modified="201709051524" created="201709051524" twine-position="150,990" modifier="twee">#sidebar { \n  display: none; \n}\nhtml, body {\n  margin: 0 !important;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  background-color: #420;\n}\nbody {\n  font-size: 40%;\n}\n\n#passages {\n  width: calc(100% - 24em);\n  height: calc(100% - 24em);\n  margin: 12em;\n  padding: 0em;\n  outline: double 9em #840;\n  border: solid 9em #441800;\n  background-color: linen;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  overflow-y: auto;\n}\n.passage {\n  font-size: 1.5rem;\n  margin: 0;\n  padding: 1.66em;\n  height: calc(100% - 3.33em);\n  color: black;\n  background-color: linen;\n  font-family: Book Antiqua, Palatino, Georgia, serif;\n}\na.internalLink, a.externalLink {\n  color: #444;\n}\na.internalLink:hover {\n  color: darkred;\n}\nhr {\n  border: 0;\n  border-bottom: grey solid 2px;\n}</div><div tiddler="a14" tags="" modified="201709051632" created="201709051615" twine-position="478,711" modifier="twee">&lt;&lt;styleswap &quot;Sodden Tome&quot;&gt;&gt;\n\nWe fight well. Clockwork's blowpipe felled the giants easily.\n\nEven &lt;&lt;replace &quot;birdman was fearsome.&quot;&gt;&gt;'SCRUK-SCRUK' was fearsome, he hates the name birdman. At least I do not call him [[food|a15]].&lt;&lt;endreplace&gt;&gt;\n</div><div tiddler="a17" tags="" modified="201709051632" created="201709051618" twine-position="487,313" modifier="twee">&lt;&lt;styleswap &quot;Sodden Tome&quot;&gt;&gt;\n\nWe are safe, &lt;&lt;replace &quot;for now.&quot;&gt;&gt;but it must be safer for the clutch of eggs in my care. They came with me from the old world.&lt;&lt;endreplace&gt;&gt;\n\nFor a moment, I think back to what the goddess said  that there are other scaled ones in this world. Not on this land, but far south and [[across the waters|a18]].\n</div><div tiddler="a16" tags="" modified="201709051632" created="201709051618" twine-position="487,445" modifier="twee">&lt;&lt;styleswap &quot;Sodden Tome&quot;&gt;&gt;\n\nI leap and bound through the shattered door and grab hold of the dead one.\n\nI &lt;&lt;replace &quot;bite and tear at it!&quot;&gt;&gt;let it fall, when the smoothskin's spear runs it [[through the chest!|a17]]&lt;&lt;endreplace&gt;&gt;\n</div><div tiddler="a11" tags="" modified="201709051630" created="201709051611" twine-position="338,454" modifier="twee">&lt;&lt;styleswap &quot;Sodden Tome&quot;&gt;&gt;\n\nThen Cailean &lt;&lt;replace &quot;charges brazenly.&quot;&gt;&gt;falls under a throng of dead that are nought but bones.&lt;&lt;endreplace&gt;&gt;\n\nHe wears scales like me, but it is [[imitation only|a12]].</div><div tiddler="a10" tags="" modified="201709051630" created="201709051608" twine-position="346,313" modifier="twee">&lt;&lt;styleswap &quot;Sodden Tome&quot;&gt;&gt;\n\n&lt;&lt;replace &quot;We fight dead dogs.&quot;&gt;&gt;We fight dead men.&lt;&lt;becomes&gt;&gt;We fight without end.&lt;&lt;endreplace&gt;&gt;\n\nI hold the corridor while the warmbloods cower in the rooms and doorways. [[It goes well|a11]].</div><div tiddler="a13" tags="" modified="201709051631" created="201709051613" twine-position="339,713" modifier="twee">&lt;&lt;styleswap &quot;Sodden Tome&quot;&gt;&gt;\n\nWhen I wake, we have won &lt;&lt;replace &quot;the battle.&quot;&gt;&gt;for now. They tell me giants, riders and more arrive.&lt;&lt;endreplace&gt;&gt;\n\nTo keep safe the huts of stone and wood, we will take the [[fight to the cold again|a14]].</div><div tiddler="a12" tags="" modified="201709051631" created="201709051612" twine-position="336,589" modifier="twee">&lt;&lt;styleswap &quot;Sodden Tome&quot;&gt;&gt;\n\n&lt;&lt;replace &quot;I am Slaarn.&quot;&gt;&gt;I am champion of the gods! Sent here to this dying world to help these weak warmbloods!&lt;&lt;endreplace&gt;&gt;\n\nI rush to help the [[fool Cailean!|a13]]</div><div tiddler="Capricorn" tags="" modified="201709051524" created="201709051524" twine-position="290,990" modifier="twee">@keyframes borderkeyframe\n{\n0%  {box-shadow: 0 0 1em 1em }\n50%  {box-shadow: 0 0 0.5em 0.5em }\n100%  {box-shadow: 0 0 1em 1em }\n}\n@-webkit-keyframes borderkeyframe\n{\n0%  {box-shadow: 0 0 2em 1em }\n50%  {box-shadow: 0 0 2em 0.5em }\n100%  {box-shadow: 0 0 2em 1em }\n}\n.passage[data-tags~=tier6] {\n  text-shadow: 0 0 1em hsl(0,100%,60%);\n  color: hsl(0,100%,50%);\n  background-color: hsl(0,100%,5%);\n}\n.passage[data-tags~=tier7] {\n  text-shadow: 0 0 1em hsl(45,100%,60%);\n  color: hsl(45,100%,50%);\n  background-color: hsl(45,100%,5%);\n}\n.passage:not([data-tags*=tier]) {\n  text-shadow: 0 0 1em hsl(90,100%,70%);\n  color: hsl(90,100%,50%);\n  background-color: hsl(90,100%,5%);\n}\n.passage[data-tags~=tier1]  {\n  text-shadow: 0 0 1em hsl(135,100%,60%);\n  color: hsl(135,100%,50%);\n  background-color: hsl(135,100%,5%);\n}\n.passage[data-tags~=tier2]  {\n  text-shadow: 0 0 1em hsl(180,100%,60%);\n  color:  hsl(180,100%,50%);\n  background-color: hsl(180,100%,5%);\n}\n.passage[data-tags~=tier3]  {\n  text-shadow: 0 0 1em hsl(225,100%,60%);\n  color: hsl(225,100%,50%);\n  background-color: hsl(225,100%,5%);\n}\n.passage[data-tags~=tier4]  {\n  text-shadow: 0 0 1em hsl(270,100%,60%);\n  color: hsl(270,100%,50%);\n  background-color: hsl(270,100%,5%);\n}\n.passage[data-tags~=tier5]   {\n  text-shadow: 0 0 1em hsl(315,100%,60%);\n  color: hsl(315,100%,50%);\n  background-color: hsl(315,100%,5%);\n}\nbody {\n  width: 100%;\n  margin-left: 0;\n}\n#passages {\n  font-size: 1.5em;\n  text-align:center;\n  border-left: 0;\n  margin-left: 0;\n  padding-left: 0;\n}\n.passage {\n  display: inline-block;\n  width: 50%;\n  padding: 4em;\n  margin: 5em 0 5em 0;\n  border-radius: 8em;\n  border-color: white;\n  border-width: 2px;\n  box-shadow: 0 0 2.5em 2.5em;\n  animation: borderkeyframe 6s infinite;\n  -webkit-animation: borderkeyframe 6s infinite;\n}\na.internalLink, a.externalLink {\n  color: white;\n  font-size: 1.2em;\n  text-shadow: 0 0 1em silver;\n}\na.internalLink:hover, a.externalLink:hover {\n  color: white;\n  text-decoration: none;\n  text-shadow: 0 0 1.5em silver, 0 0 0.75em white;\n}\n.passage .content, .passage .body {\n  color: white;\n  text-shadow: inherit;\n}\n.passage .title {\n  margin-top: 0.2em;\n  font-style: italic;\n  font-size: 2em;\n  color: white;\n  text-align: center;\n}\n.passage img {\n display: block;\n margin-left:auto;\n margin-right:auto;\n}\n#sidebar {\n display:none;\n}</div><div tiddler="Closed In" tags="" modified="201709051524" created="201709051524" twine-position="1130,430" modifier="twee">body {\n  margin: 2%;\n}\n#passages{\n  margin: 0;\n  padding: 0;\n  border: 0;\n  width:96%;\n  margin: auto;\n}\n.passage {\n  font-size:6em; \n  color: #888;\n  text-shadow: #888 0 0 0.05em;\n}\n@media screen and (max-width: 960px) {\n  .passage {\n    font-size: 4em;\n  }\n}\n@media screen and (max-width: 640px) {\n  .passage {\n    font-size: 3em;\n  }\n}\na.internalLink, a.externalLink {\n  color: #eee;\n  text-shadow: #eee 0 0 0.07em;\n}\na.internalLink:hover, a.externalLink:hover {\n  color: #fff;\n  text-decoration: none;\n  text-shadow: #fff 0 0 0.09em;\n}\n#sidebar {\n\tdisplay:none;\n}</div><div tiddler="a18" tags="" modified="201709051625" created="201709051625" twine-position="630,319" modifier="twee">&lt;&lt;styleswap &quot;Sodden Tome&quot;&gt;&gt;\n\n[[I am still hungry|Start]].</div><div tiddler="ZX Spectwine" tags="" modified="201709051524" created="201709051524" twine-position="290,850" modifier="twee">body {\n  margin: 0;\n  background-color:#000;\n}\n#passages {\n  margin: 0;\n  padding: 0;\n  border: 0;\n}\n.passage {\n  width: 40%;\n  min-width: 26em;\n  font-family: Helvetica, &quot;Helvetica Neue&quot;, Arial, sans-serif;\n  letter-spacing: 0.1em;\n  font-size:1.8em;\n  margin: 10% 0 10% 10%;\n  box-shadow: orangered 0 0 0 0.4em;\n  border: gold solid 0.4em;\n  padding:0.4em;\n  background-color:lawngreen;\n  border-radius: 1em;\n}\n.passage .content, .passage .body {\n  margin: 0;\n  padding: 1.5em;\n  background-color:#000;\n  box-shadow: lawngreen 0 0 0 0.4em;\n  border: cornflowerblue solid 0.4em;\n  border-radius:0.2em;\n  text-align:left;\n  font-family: sans-serif;\n  font-weight: lighter;\n  color:#fff;\n}\n\na.internalLink, a.externalLink {\n  background-color:#506070;\n  box-shadow: #304050 0.1em 0.1em 0 0.1em;\n  position:relative;\n  left: -0.1em;\n  top: -0.1em;\n  padding: 0.2em 0.3em 0.2em 0.3em;\n  font-weight: lighter;\n  color:#fff;\n}\na.internalLink:hover, a.externalLink:hover {\n  color:#fff;\n  background-color:slategray;\n  text-decoration:none;\n}\na.internalLink:active, a.externalLink:active {\n  box-shadow: none;\n  background-color:#304050;\n  position:static;\n  margin: 0;\n}\n#sidebar {\n  display:none;\n}</div><div tiddler="a04" tags="" modified="201709051628" created="201709051559" twine-position="59,592" modifier="twee">&lt;&lt;styleswap &quot;Sodden Tome&quot;&gt;&gt;\n\nThe smoothskin &lt;&lt;replace &quot;introduces himself.&quot;&gt;&gt;is named Clockwork, and carries a metal blowpipe that spews fire.&lt;&lt;endreplace&gt;&gt;\n\nHe is not scared - he could be a useful [[ally|a05]].\n</div><div tiddler="Untitled Passage 1" tags="" modified="201709051524" created="201709051524" twine-position="1410,10" modifier="twee">@keyframes blink {\n\t0%,100% { opacity:1; } 50% { opacity:0; }\n}\n\n@-webkit-keyframes blink {\n\t0%,100% { opacity:1; } 50% { opacity:0; }\n}\nhtml {\n  background-color: rgb(85,87,83);\n}\nbody {\n  background-color: rgb(212,208,200);\n  width: 80em;\n  margin: 5em auto auto auto;\n  border: outset 2px #fff;\n}\n#passages {\n  background-color: white;\n  border: inset 2px #888;\n  margin: 0.25em auto;\n  width: 79.5em;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  padding: 0.5em 1em;\n}\n.passage {\n  color: black;\n  font: normal 11pt/1.33em Consolas, sans-serif;\n}\n.passage .internalLink::before {\n  content: &quot;[[&quot;;\n}\n.passage a.internalLink::after {\n  content: &quot;]]&quot;; \n}\n.passage .internalLink {\n  color: #00f;\n}\n.passage .internalLink:hover, .passage .internalLink:active {\n  text-decoration: none;\n  color: #000;\n  background-color: rgb(178,180,191);\n}\n.passage .internalLink:active {\n  color: #fff;\n}\n.passage em, .passage strong, .passage u, .passage span:not([class]), .passage sup, .passage sub, .passage strike {\n  color: #008200;\n  text-decoration: none;\n  font-weight: normal;\n  font-style: normal;\n  font-size: 11pt;\n  vertical-align: baseline;\n}\n.passage strong::before, .passage strong::after {\n  content: &quot;''&quot;;\n}\n.passage em::before, .passage em::after {\n  content: &quot;//&quot;;\n}\n.passage u::before, .passage u::after {\n  content: &quot;__&quot;;\n}\n.passage sup::before, .passage sup::after {\n  content: &quot;^^&quot;;\n}\n.passage sub::before, .passage sub::after {\n  content: &quot;~~&quot;;\n}\n.passage strike::before, .passage strike::after {\n  content: &quot;==&quot;;\n}\n.passage span:not([class])::before, .passage span:not([class])::after {\n  content: &quot;&lt;html&gt;&quot;;\n}\n.passage span:not([class])::after {\n  content: &quot;&lt;/html&gt;&quot;;\n}\n.passage hr {\n  border: 0px;\n  height: auto;\n}\n.passage hr::before {\n  content: &quot;-----&quot;;\n}\n.header, .content, .footer {\n  display: inline;\n}\n.footer {\n\tborder-left: 1px solid #000;\n\tanimation: blink 1s steps(1,end) infinite;\n\t-webkit-animation: blink 1s steps(1,end) infinite;\n}\n#sidebar {\n  position: static;\n  width: 100%;\n}\n#sidebar li, #storyTitle, .menu div {\n  text-align: left;\n  line-height: 100% !important;\n  font: 9pt Tahoma, sans-serif;\n}\n#sidebar #title :not(:first-child), #sidebar #credits {\n  display:none;\n}\n#sidebar :not(:first-child) {\n  display:inline-block;\n  font-weight: normal;\n  text-style: none;\n  margin: 0 0.2em;\n  padding: 0.2em 0.25em;\n  border: outset 1px transparent;\n}\n#snapback {\n  margin-left: 0.25em !important;\n}\n#restart:hover, #snapback:hover, #share:hover {\n  color: #000 !important;\n  border: outset 1px #fff;\n}\n#storyTitle {\n  text-size: inherit;\n  color: white;\n  font-weight: bold;\n  vertical-align:middle;\n}\n#sidebar #storyTitle::before {\n  width: 16px;\n  height: 16px;\n  margin: 1px 3px 1px 1px;\n  display: inline-block;\n  content: &quot;&zwnj;&quot;; background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAABWklEQVR4AYWRz0vDMBTHk7Rdaq0yvPQyRWQoE2/Dk4JnQc9e/AtE/whP/g3+BYJXLzt7UvDmcSDs5H7ZrluFdGkbk2ZtwioaystL3vt835cUOs0rkK/rm1N3fUPmPN7d3kPTLY9lYpYZZVaCVqodSzcK6I+C2dzQyuxXWAGD8cQmSDUxAbCM7Bz0NlvfXtOse+moB7UJw8CKFqoQsZOL973jzMKGZfMP1WzAc8PUgME4QDjlqu2jjtcY8jIluUMog9hqTqomBGEELHB2/ohXoWyFeaskZM4SDeCVw3YnTRIaI121yAVK40xNgIA5uL+wAYSiVP3sGt3XevjlUIJj4iqg4b1QkgkDoleE54ftabgvbZVRAWv4ozTDy29Pu7OotdTNjwpI5gklxRGC6WRLe0IFakCc0ji38udSgHgBIv6DWMWLVlndUpZP+GeEAnz/EvhKERp2VZ7f/ABn6XNPaqBuEQAAAABJRU5ErkJggg%3D%3D);\n}\n#sidebar #title #storyTitle::after {\n  content: &quot; - Twine&quot;;\n}\n#sidebar #title {\n  margin: auto;\n  padding: 0;\n  background-color: rgb(10,36,106);\n  background-image: linear-gradient(90deg,  rgb(10,36,106) 0%, rgb(166,202,240) 100%);\n  background-image: -webkit-linear-gradient(0deg,  rgb(10,36,106) 0%, rgb(166,202,240) 100%);\n}\n.menu div {\n  padding: 0.25em 1em;\n}\n.menu div i {\n  font-style: normal;\n  color: gray;\n  text-shadow: 1px 1px white;\n}\n.menu div i:hover {\n  text-shadow: 0px 0px transparent;\n}\n.menu div:hover {\n  background-color: rgb(10,36,106);\n  color: #fff;\n}\n.menu {\n  border: 1px outset #fff;\n  background-color: inherit;\n  opacity: 1;\n  color: #000;\n}</div><div tiddler="Troubled Dreaming" tags="" modified="201709051524" created="201709051524" twine-position="155,1128" modifier="twee">body {\n\n  background-image: linear-gradient(20deg, rgba(63,190,255,0.4) 0%,rgba(0,0,0,0) 30%),  \n    linear-gradient(115deg, rgba(63,255,165,0.4) 0%,rgba(0,0,0,0) 30%), \n    linear-gradient(200deg, rgba(255,190,64,0.4) 0%,rgba(0,0,0,0) 30%),\n    linear-gradient(320deg, rgba(255,64,190,0.4) 0%,rgba(0,0,0,0) 30%);\n  background-attachment:fixed;\n  margin: 0;\n\n  background-image: -webkit-linear-gradient(20deg, rgba(63,190,255,0.4) 0%,rgba(0,0,0,0) 30%),  \n    -webkit-linear-gradient(115deg, rgba(63,255,165,0.4) 0%,rgba(0,0,0,0) 30%), \n    -webkit-linear-gradient(200deg, rgba(255,190,64,0.4) 0%,rgba(0,0,0,0) 30%),\n    -webkit-linear-gradient(320deg, rgba(255,64,190,0.4) 0%,rgba(0,0,0,0) 30%);\n  background-attachment:fixed;\n  margin: 0;\n}\nhtml {\n  height:100%;\n  width:100%;\n}\n#passages {\n  border-left: 0;\n  margin: 0;\n  padding: 0;\n  line-height:100vh;\n  text-align:center;\n}\n.passage {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin:auto;\n  font-size: 2em;\n  width: 50%;\n  height: 50%;\n  transform: rotate(-0.3deg);\n  -webkit-transform: rotate(-0.3deg);\n}\n.passage {\n  text-align:center;\n}\n#sidebar li:nth-child(3n) {\n  transform: rotate(3deg);\n  -webkit-transform: rotate(3deg);\n  margin-right: -1em;\n}\n#sidebar li:nth-child(3n+1) {\n  transform: rotate(2deg);\n  -webkit-transform: rotate(2deg);\n}\n#sidebar li:nth-child(3n+2) {\n  transform: rotate(-2deg);\n  -webkit-transform: rotate(-2deg);\n  margin-right: 1em;\n}\n#sidebar li, #sidebar li a {\n  color: #555;\n}\n#sidebar #share {\n  display:none;\n}\n@media screen and (max-width: 960px) {\n  body { font-size: 55%; }\n}\n@media screen and (max-width: 840px) {\n  body { font-size: 45%; }\n}\n@media screen and (max-width: 720px) {\n  body { \n    font-size: 40%;\n  }\n  #sidebar, #sidebar:hover {\n    width: 100%;\n    height: 6em;\n    left: 0em;\n    font-size:1.8em;\n  }\n  #sidebar li#title { display:block; }\n  #sidebar li { margin-right: 2em; }\n  #sidebar #credits { display: none; }\n  #passages {\n    margin: 10em 0 0 0em;\n  }\n}</div><div tiddler="Squillions" tags="" modified="201709051524" created="201709051524" twine-position="1130,290" modifier="twee">head {\n  box-shadow: inset 0px 0px 30em #bbb;\n  width:100%;\n  height:100%;\n  display:block;\n  position:fixed;\n}\nhead * {\n  display:none;\n}\nbody {\n  background-color:#fff;\n  margin: 0;\n  text-align:center;\n}\n#passages {\n  border-left: 0;\n  margin: 0;\n  padding: 0;\n  line-height:100vh;\n}\n.passage {\n  position:absolute;\n  top: 0;  bottom: 0;  left: 0;  right: 0;\n  width: 75%;\n  height: 75%;\n  margin:auto;\n  font: bolder 6em/1.25em Helvetica, &quot;Helvetica Neue&quot;, Arial, sans-serif;\n  color: #000;\n  letter-spacing: -0.05em;\n  text-align:center;\n}\n#sidebar {\n  display:table;\n  position:fixed;\n  top: 0; left: 0;\n  width:100%;\n  height:100%;\n}\n#sidebar #title {\n  display:table-cell; \n  vertical-align:middle;\n  text-align:center;\n}\n#sidebar #title #storyTitle {\n  font: bolder 12em/1.25em Helvetica, &quot;Helvetica Neue&quot;, Arial, sans-serif !important;\n  letter-spacing: -0.05em;\n  color:rgba(0,0,0,0.15);\n}\n#title :not(#storyTitle){\n  display:none;\n}\n#storymenu, #snapback, #restart, #share, #credits {\n  display:none;\n}\na.internalLink:hover, a.externalLink:hover {\n  color:#de0000 !important;\n  text-decoration: none;\n}\na.internalLink:nth-child(3n), a.externalLink:nth-child(3n) {\n  color: #666;\n}\na.internalLink:nth-child(3n+1), a.externalLink:nth-child(3n+1) {\n  color: #777;\n}\na.internalLink:nth-child(3n+2), a.externalLink:nth-child(3n+2) {\n  color: #888;\n}\n@media screen and (max-width: 960px) {\n  body { font-size: 50%; }\n}\n@media screen and (max-width: 840px) {\n  body { font-size: 40%; }\n}\n@media screen and (max-width: 720px) {\n  body { \n    font-size: 30%;\n  }\n}</div><div tiddler="Replace Macros" tags="script" modified="201709051542" created="201709051524" twine-position="430,10" modifier="twee">(function(){version.extensions.replaceMacrosCombined={major:1,minor:1,revision:7};var nullobj={handler:function(){}};function showVer(n,notrans){if(!n){return;}n.innerHTML=&quot;&quot;;\nnew Wikifier(n,n.tweecode);n.setAttribute(&quot;data-enabled&quot;,&quot;true&quot;);n.style.display=&quot;inline&quot;;n.classList.remove(&quot;revision-span-out&quot;);if(!notrans){n.classList.add(&quot;revision-span-in&quot;);\nif(n.timeout){clearTimeout(n.timeout);}n.timeout=setTimeout(function(){n.classList.remove(&quot;revision-span-in&quot;);n=null;},20);}}function hideVer(n,notrans){if(!n){return;\n}n.setAttribute(&quot;data-enabled&quot;,&quot;false&quot;);n.classList.remove(&quot;revision-span-in&quot;);if(n.timeout){clearTimeout(n.timeout);}if(!notrans){n.classList.add(&quot;revision-span-out&quot;);\nn.timeout=setTimeout(function(){if(n.getAttribute(&quot;data-enabled&quot;)==&quot;false&quot;){n.classList.remove(&quot;revision-span-out&quot;);n.style.display=&quot;none&quot;;n.innerHTML=&quot;&quot;;}n=null;\n},1000);}else{n.style.display=&quot;none&quot;;n.innerHTML=&quot;&quot;;n=null;}}function tagcontents(b,starttags,desttags,endtags,k){var l=0,c=&quot;&quot;,tg,a,i;function tagfound(i,e,endtag){for(var j=0;\nj&lt;e.length;j++){if(a.indexOf(&quot;&lt;&lt;&quot;+e[j]+(endtag?&quot;&gt;&gt;&quot;:&quot;&quot;),i)==i){return e[j];}}}a=b.source.slice(k);for(i=0;i&lt;a.length;i++){if(tg=tagfound(i,starttags)){l++;}else{if((tg=tagfound(i,desttags,true))&&l==0){b.nextMatch=k+i+tg.length+4;\nreturn[c,tg];}else{if(tg=tagfound(i,endtags,true)){l--;if(l&lt;0){return null;}}}}c+=a.charAt(i);}return null;}var begintags=[];var endtags=[];function revisionSpanHandler(g,e,f,b){var k=b.source.indexOf(&quot;&gt;&gt;&quot;,b.matchStart)+2,vsns=[],vtype=e,flen=f.length,becomes,c,cn,m,h,vsn;\nfunction mkspan(vtype){h=insertElement(m,&quot;span&quot;,null,&quot;revision-span &quot;+vtype);h.setAttribute(&quot;data-enabled&quot;,false);h.style.display=&quot;none&quot;;h.tweecode=&quot;&quot;;return h;}if(this.shorthand&&flen){while(f.length&gt;0){vsns.push([f.shift(),(this.flavour==&quot;insert&quot;?&quot;gains&quot;:&quot;becomes&quot;)]);\n}}else{if(this.flavour==&quot;insert&quot;||(this.flavour==&quot;continue&quot;&&this.trigger==&quot;time&quot;)){vsns.push([&quot;&quot;,&quot;becomes&quot;]);}}if(this.flavour==&quot;continue&quot;&&flen){b.nextMatch=k+b.source.slice(k).length;\nvsns.push([b.source.slice(k),vtype]);}else{becomes=[&quot;becomes&quot;,&quot;gains&quot;];c=tagcontents(b,begintags,becomes.concat(endtags),endtags,k);if(c&&endtags.indexOf(c[1])==-1){while(c){vsns.push(c);\nc=tagcontents(b,begintags,becomes,endtags,b.nextMatch);}c=tagcontents(b,begintags,[&quot;end&quot;+e],endtags,b.nextMatch);}if(!c){throwError(g,&quot;can't find matching end&quot;+e);\nreturn;}vsns.push(c);if(this.flavour==&quot;continue&quot;){k=b.nextMatch;b.nextMatch=k+b.source.slice(k).length;vsns.push([b.source.slice(k),&quot;&quot;]);}}if(this.flavour==&quot;remove&quot;){vsns.push([&quot;&quot;,&quot;becomes&quot;]);\n}cn=0;m=insertElement(g,&quot;span&quot;,null,e);m.setAttribute(&quot;data-flavour&quot;,this.flavour);h=mkspan(&quot;initial&quot;);vsn=vsns.shift();h.tweecode=vsn[0];showVer(h,true);while(vsns.length&gt;0){if(vsn){vtype=vsn[1];\n}vsn=vsns.shift();h=mkspan(vtype);h.tweecode=vsn[0];}if(typeof this.setup==&quot;function&quot;){this.setup(m,g,f);}}function quantity(m){return(m.children.length-1)+(m.getAttribute(&quot;data-flavour&quot;)==&quot;remove&quot;);\n}function revisionSetup(m,g,f){m.className+=&quot; &quot;+f[0].replace(&quot; &quot;,&quot;_&quot;);}function keySetup(m,g,f){var key=f[0];m.setEventListener(&quot;keydown&quot;,function l(e){var done=!revise(&quot;revise&quot;,m);\nif(done){m.removeEventListener(&quot;keydown&quot;,l);}});}function timeSetup(m,g,f){function cssTimeUnit(s){if(typeof s==&quot;string&quot;){if(s.slice(-2).toLowerCase()==&quot;ms&quot;){return Number(s.slice(0,-2))||0;\n}else{if(s.slice(-1).toLowerCase()==&quot;s&quot;){return Number(s.slice(0,-1))*1000||0;}}}throwError(g,s+&quot; isn't a CSS time unit&quot;);return 0;}var tm=cssTimeUnit(f[0]);var s=state.history[0].passage.title;\nsetTimeout(function timefn(){if(state.history[0].passage.title==s){var done=!revise(&quot;revise&quot;,m);if(!done){setTimeout(timefn,tm);}}},tm);}function hoverSetup(m){var fn,noMouseEnter=(document.head.onmouseenter!==null),m1=m.children[0],m2=m.children[1],gains=m2.className.indexOf(&quot;gains&quot;)&gt;-1;\nif(!m1||!m2){return;}m1.onmouseenter=function(e){var efp=document.elementFromPoint(e.clientX,e.clientY);while(efp&&efp!==this){efp=efp.parentNode;}if(!efp){return;\n}if(this.getAttribute(&quot;data-enabled&quot;)!=&quot;false&quot;){revise(&quot;revise&quot;,this.parentNode);}};m2.onmouseleave=function(e){var efp=document.elementFromPoint(e.clientX,e.clientY);\nwhile(efp&&efp!==this){efp=efp.parentNode;}if(efp){return;}if(this.getAttribute(&quot;data-enabled&quot;)!=&quot;false&quot;){revise(&quot;revert&quot;,this.parentNode);}};if(gains){m1.onmouseleave=m2.onmouseleave;\n}if(noMouseEnter){fn=function(n){return function(e){if(!event.relatedTarget||(event.relatedTarget!=this&&!(this.compareDocumentPosition(event.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY))){this[n]();\n}};};m1.onmouseover=fn(&quot;onmouseenter&quot;);m2.onmouseout=fn(&quot;onmouseleave&quot;);if(gains){m1.onmouseout=m2.onmouseout;}}m=null;}function mouseSetup(m){var evt=(document.head.onmouseenter===null?&quot;onmouseenter&quot;:&quot;onmouseover&quot;);\nm[evt]=function(){var done=!revise(&quot;revise&quot;,this);if(done){this[evt]=null;}};m=null;}function linkSetup(m,g,f){var l=Wikifier.createInternalLink(),p=m.parentNode;\nl.className=&quot;internalLink replaceLink&quot;;p.insertBefore(l,m);l.insertBefore(m,null);l.onclick=function(){var p,done=false;if(m&&m.parentNode==this){done=!revise(&quot;revise&quot;,m);\nscrollWindowTo(m);}if(done){this.parentNode.insertBefore(m,this);this.parentNode.removeChild(this);}};l=null;}function visitedSetup(m,g,f){var i,done,shv=state.history[0].variables,os=&quot;once seen&quot;,d=(m.firstChild&&(this.flavour==&quot;insert&quot;?m.firstChild.nextSibling:m.firstChild).tweecode);\nshv[os]=shv[os]||{};if(d&&!shv[os].hasOwnProperty(d)){shv[os][d]=1;}else{for(i=shv[os][d];i&gt;0&&!done;i--){done=!revise(&quot;revise&quot;,m,true);}if(shv[os].hasOwnProperty(d)){shv[os][d]+=1;\n}}}[{name:&quot;insert&quot;,flavour:&quot;insert&quot;,trigger:&quot;link&quot;,setup:linkSetup},{name:&quot;timedinsert&quot;,flavour:&quot;insert&quot;,trigger:&quot;time&quot;,setup:timeSetup},{name:&quot;insertion&quot;,flavour:&quot;insert&quot;,trigger:&quot;revisemacro&quot;,setup:revisionSetup},{name:&quot;later&quot;,flavour:&quot;insert&quot;,trigger:&quot;visited&quot;,setup:visitedSetup},{name:&quot;keyinsert&quot;,flavour:&quot;insert&quot;,trigger:&quot;key&quot;,setup:keySetup},{name:&quot;replace&quot;,flavour:&quot;replace&quot;,trigger:&quot;link&quot;,setup:linkSetup},{name:&quot;timedreplace&quot;,flavour:&quot;replace&quot;,trigger:&quot;time&quot;,setup:timeSetup},{name:&quot;mousereplace&quot;,flavour:&quot;replace&quot;,trigger:&quot;mouse&quot;,setup:mouseSetup},{name:&quot;hoverreplace&quot;,flavour:&quot;replace&quot;,trigger:&quot;hover&quot;,setup:hoverSetup},{name:&quot;revision&quot;,flavour:&quot;replace&quot;,trigger:&quot;revisemacro&quot;,setup:revisionSetup},{name:&quot;keyreplace&quot;,flavour:&quot;replace&quot;,trigger:&quot;key&quot;,setup:keySetup},{name:&quot;timedremove&quot;,flavour:&quot;remove&quot;,trigger:&quot;time&quot;,setup:timeSetup},{name:&quot;mouseremove&quot;,flavour:&quot;remove&quot;,trigger:&quot;mouse&quot;,setup:mouseSetup},{name:&quot;hoverremove&quot;,flavour:&quot;remove&quot;,trigger:&quot;hover&quot;,setup:hoverSetup},{name:&quot;removal&quot;,flavour:&quot;remove&quot;,trigger:&quot;revisemacro&quot;,setup:revisionSetup},{name:&quot;once&quot;,flavour:&quot;remove&quot;,trigger:&quot;visited&quot;,setup:visitedSetup},{name:&quot;keyremove&quot;,flavour:&quot;remove&quot;,trigger:&quot;key&quot;,setup:keySetup},{name:&quot;continue&quot;,flavour:&quot;continue&quot;,trigger:&quot;link&quot;,setup:linkSetup},{name:&quot;timedcontinue&quot;,flavour:&quot;continue&quot;,trigger:&quot;time&quot;,setup:timeSetup},{name:&quot;mousecontinue&quot;,flavour:&quot;continue&quot;,trigger:&quot;mouse&quot;,setup:mouseSetup},{name:&quot;keycontinue&quot;,flavour:&quot;continue&quot;,trigger:&quot;key&quot;,setup:keySetup},{name:&quot;cycle&quot;,flavour:&quot;cycle&quot;,trigger:&quot;revisemacro&quot;,setup:revisionSetup},{name:&quot;mousecycle&quot;,flavour:&quot;cycle&quot;,trigger:&quot;mouse&quot;,setup:mouseSetup},{name:&quot;timedcycle&quot;,flavour:&quot;cycle&quot;,trigger:&quot;time&quot;,setup:timeSetup},{name:&quot;keycycle&quot;,flavour:&quot;replace&quot;,trigger:&quot;key&quot;,setup:keySetup}].forEach(function(e){e.handler=revisionSpanHandler;\ne.shorthand=([&quot;link&quot;,&quot;mouse&quot;,&quot;hover&quot;].indexOf(e.trigger)&gt;-1);macros[e.name]=e;macros[&quot;end&quot;+e.name]=nullobj;begintags.push(e.name);endtags.push(&quot;end&quot;+e.name);});function insideDepartingSpan(elem){var r=elem.parentNode;\nwhile(!r.classList.contains(&quot;passage&quot;)){if(r.classList.contains(&quot;revision-span-out&quot;)){return true;}r=r.parentNode;}}function reviseAll(rt,rname){var rall=document.querySelectorAll(&quot;.passage [data-flavour].&quot;+rname),ret=false;\nfor(var i=0;i&lt;rall.length;i++){if(!insideDepartingSpan(rall[i])){ret=revise(rt,rall[i])||ret;}}return ret;}function revise(rt,r,notrans){var ind2,curr,next,ind=-1,rev=(rt==&quot;revert&quot;),rnd=(rt.indexOf(&quot;random&quot;)&gt;-1),fl=r.getAttribute(&quot;data-flavour&quot;),rc=r.childNodes,cyc=(fl==&quot;cycle&quot;),rcl=rc.length-1;\nfunction doToGainerSpans(n,fn){for(var k=n-1;k&gt;=0;k--){if(rc[k+1].classList.contains(&quot;gains&quot;)){fn(rc[k],notrans);}else{break;}}}for(var k=0;k&lt;=rcl;k++){if(rc[k].getAttribute(&quot;data-enabled&quot;)==&quot;true&quot;){ind=k;\n}}if(rev){ind-=1;}curr=(ind&gt;=0?rc[ind]:(cyc?rc[rcl]:null));ind2=ind;if(rnd){ind2=(ind+(Math.floor(Math.random()*rcl)))%rcl;}next=((ind2&lt;rcl)?rc[ind2+1]:(cyc?rc[0]:null));\nvar docurr=(rev?showVer:hideVer);var donext=(rev?hideVer:showVer);var currfn=function(){if(!(next&&next.classList.contains(&quot;gains&quot;))||rnd){docurr(curr,notrans);doToGainerSpans(ind,docurr,notrans);\n}};var nextfn=function(){donext(next,notrans);if(rnd){doToGainerSpans(ind2+1,donext,notrans);}};if(!rev){currfn();nextfn();}else{nextfn();currfn();}return(cyc?true:(rev?(ind&gt;0):(ind2&lt;rcl-1)));\n}macros.revert=macros.revise=macros.randomise=macros.randomize={handler:function(a,b,c){var l,rev,rname;function disableLink(l){l.style.display=&quot;none&quot;;}function enableLink(l){l.style.display=&quot;inline&quot;;\n}function updateLink(l){if(l.className.indexOf(&quot;random&quot;)&gt;-1){enableLink(l);return;}var rall=document.querySelectorAll(&quot;.passage [data-flavour].&quot;+rname),cannext,canprev,i,ind,r,fl;\nfor(i=0;i&lt;rall.length;i++){r=rall[i],fl=r.getAttribute(&quot;data-flavour&quot;);if(insideDepartingSpan(r)){continue;}if(fl==&quot;cycle&quot;){cannext=canprev=true;}else{if(r.firstChild.getAttribute(&quot;data-enabled&quot;)==!1+&quot;&quot;){canprev=true;\n}if(r.lastChild.getAttribute(&quot;data-enabled&quot;)==!1+&quot;&quot;){cannext=true;}}}var can=(l.classList.contains(&quot;revert&quot;)?canprev:cannext);(can?enableLink:disableLink)(l);}function toggleText(w){w.classList.toggle(rl+&quot;Enabled&quot;);\nw.classList.toggle(rl+&quot;Disabled&quot;);w.style.display=((w.style.display==&quot;none&quot;)?&quot;inline&quot;:&quot;none&quot;);}var rl=&quot;reviseLink&quot;;if(c.length&lt;2){throwError(a,b+&quot; macro needs 2 parameters&quot;);\nreturn;}rname=c.shift().replace(&quot; &quot;,&quot;_&quot;);l=Wikifier.createInternalLink(a,null);l.className=&quot;internalLink &quot;+rl+&quot; &quot;+rl+&quot;_&quot;+rname+&quot; &quot;+b;var v=&quot;&quot;;var end=false;var out=false;\nif(c.length&gt;1&&c[0][0]==&quot;$&quot;){v=c[0].slice(1);c.shift();}switch(c[c.length-1]){case&quot;end&quot;:end=true;c.pop();break;case&quot;out&quot;:out=true;c.pop();break;}var h=state.history[0].variables;\nfor(var i=0;i&lt;c.length;i++){var on=(i==Math.max(c.indexOf(h[v]),0));var d=insertElement(null,&quot;span&quot;,null,rl+((on)?&quot;En&quot;:&quot;Dis&quot;)+&quot;abled&quot;);if(on){h[v]=c[i];l.setAttribute(&quot;data-cycle&quot;,i);\n}else{d.style.display=&quot;none&quot;;}insertText(d,c[i]);l.appendChild(d);}l.onclick=function(){reviseAll(b,rname);var t=this.childNodes,u=this.getAttribute(&quot;data-cycle&quot;)-0,m=t.length,n,lall,i;\nif((end||out)&&u&gt;=m-(end?2:1)){if(end){n=this.removeChild(t[u+1]||t[u]);n.className=rl+&quot;End&quot;;n.style.display=&quot;inline&quot;;this.parentNode.replaceChild(n,this);}else{this.parentNode.removeChild(this);\nreturn;}}else{toggleText(t[u]);u=(u+1)%m;if(v){h[v]=c[u];}toggleText(t[u]);this.setAttribute(&quot;data-cycle&quot;,u);}lall=document.getElementsByClassName(rl+&quot;_&quot;+rname);\nfor(i=0;i&lt;lall.length;i++){updateLink(lall[i]);}};disableLink(l);setTimeout((function(l){return function(){updateLink(l);};}(l)),1);l=null;}};macros.mouserevise=macros.hoverrevise={handler:function(a,b,c,d){var endtags=[&quot;end&quot;+b],evt=(window.onmouseenter===null?&quot;onmouseenter&quot;:&quot;onmouseover&quot;),t=tagcontents(d,[b],endtags,endtags,d.source.indexOf(&quot;&gt;&gt;&quot;,d.matchStart)+2);\nif(t){var rname=c[0].replace(&quot; &quot;,&quot;_&quot;),h=insertElement(a,&quot;span&quot;,null,&quot;hoverrevise hoverrevise_&quot;+rname),f=function(){var done=!reviseAll(&quot;revise&quot;,rname);if(b!=&quot;hoverrevise&quot;&&done){this[evt]=null;\n}};new Wikifier(h,t[0]);if(b==&quot;hoverrevise&quot;){h.onmouseover=f;h.onmouseout=function(){reviseAll(&quot;revert&quot;,rname);};}else{h[evt]=f;}h=null;}}};macros.instantrevise={handler:function(a,b,c,d){reviseAll(&quot;revise&quot;,c[0].replace(&quot; &quot;,&quot;_&quot;));\n}};macros.endmouserevise=nullobj;macros.endhoverrevise=nullobj;}());</div><div tiddler="Dining Table" tags="" modified="201709051524" created="201709051524" twine-position="10,850" modifier="twee">body {\n  margin: 10% 0 10% 0;\n  background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM0AAAABCAIAAADy9L3xAAAArElEQVR4AaWPMQrCQBBFZ2bZRFBJIaYIaBtJY+MVxAN7AEttTGFnIwrpREOEiLvrzphcYf3lh/94H6XeVseyOZQTpZlZEIJjCD4DXWzWkCYOmCCc1XlosvC61tU5QqfAA3CwGAK3OIyyFSbZ16MQBaNEJCJSzeO+343s+5+PnQMjteyneREvls4joQSLdUMCh2BulxPYJ6Hri9AgimGtx/N0lluJGVQoqd+xyA/TqkKJWL28CQAAAABJRU5ErkJggg%3D%3D);\n}\n#passages {\n  padding: 0;\n  border: 0;\n  text-align:center;\n  margin-left:0;\n}\n.passage {\n  display: inline-block;\n  width: 60%;\n  border-radius: 0.5em;\n  box-shadow: rgba(0,0,0,0.1) 0.5em 0.5em 0.4em;\n  background-color: #fff;\n  background-color: hsla(0,0%,100%,0.8);\n  min-height:40%;\n  padding: 3em;\n  font-size:1.6em;\n  color: rgb(80,10,0);\n}\n#sidebar {\n  display:none;\n}\na.internalLink, a.externalLink {\n  color: rgb(220,130,80);\n}\na.internalLink:hover, a.externalLink:hover {\n  color: rgb(240,190,80);\n  text-decoration:none;\n}</div><div tiddler="Sodden Tome" tags="" modified="201709051524" created="201709051524" twine-position="871,341" modifier="twee">html {\n  background-image: linear-gradient(to bottom,  hsl(70, 39%, 30%), black);\n  background-image: -webkit-linear-gradient(top,  hsl(70, 39%, 30%), black);\n  background-attachment: fixed;\n  background-color: black;\n}\nbody {\n  background-color: transparent;\n  margin: 2% 0 0 0;\n  font-size: 100%;\n}\n\n#passages {\n  background-image: linear-gradient(-135deg, beige, #c6c66c);\n  background-image: -webkit-linear-gradient(-45deg, beige, #c6c66c);\n  background-color: beige;\n  width: 40%;\n  margin:auto;\n  margin-bottom: 5%;\n  padding: 2em;\n  box-shadow: inset 0 0 2em olive;\n}\n\n.passage {\n  margin: 0px;\n  padding: 2em;\n\n  /* Text formatting */\n  color: black;\n  font-family: &quot;Times New Roman&quot;, serif;\n  text-align:justify;\n}\n.passage br + .char {\n  margin-left: 1.6em;\n}\n\n.char.e + .char, .char.t + .char, .char.a + .char, .char.o + .char, .char.i + .char, .char.n + .char, .char:nth-child(8n) {\n  text-shadow: 0em 3px 0.3em hsla(82, 39%, 20%, .25);\n  color: rgba(0,0,0,0.7);\n}\n\n/* No sidebar */\n#sidebar {\n  display:none;\n}\n\nhr {\n  border: 0;\n  height: 2px !important;\n  background-color: black;\n  box-shadow: 0 0 1em darkolivegreen;\n}\n\n/* Links */\n.passage a .char {\n  color: hsla(82, 39%, 20%, .75);\n  text-shadow: 0em 3px 0.2em hsla(82, 39%, 20%, .25), 0em 6px 0.4em hsla(82, 39%, 20%, .25);\n}\n.passage a:visited .char {\n  color: hsla(37, 39%, 20%, .75);\n  text-shadow: 0em 3px 0.2em hsla(37, 39%, 20%, .25), 0em 6px 0.4em hsla(37, 39%, 20%, .25);\n}\n.passage a:hover {\n  text-decoration: none;\n}\n.passage a:hover .char {\n  color: darkgreen !important;\n}\n.passage a:visited:hover .char {\n  color: darkred !important;\n}\n\n@media screen and (max-width: 960px) {\n  #passages { width: 60%; }\n}\n@media screen and (max-width: 840px) {\n  #passages { width: 80%; }\n}\n@media screen and (max-width: 720px) {\n  #passages { width: 90%; }\n}</div><div tiddler="One Hundred Candles" tags="ohc" modified="201709051524" created="201709051524" twine-position="430,990" modifier="twee">html {\n  height: 100%;\n  height:100vh;\n}\nbody {\n  margin: 0;\n  padding: 0;\n  background-color: #000;\n  height: 90%;\n  background: -webkit-radial-gradient(center 99%, ellipse cover,  #666 0%,#111 40%) #000;\n  background: radial-gradient(ellipse at center 99%,  #666 0%, #111 40%) #000;\n}\n#passages {\n  margin: 0 0 0 24em;\n  border-left: 0;\n}\n.passage {\n  margin: 2em;\n  font-size:1.7em; \n  color: white;\n  text-shadow: gray 0em -0.4em 0.8em;\n}\na.internalLink, a.externalLink {\n  color: #58f;\n  text-decoration:none;\n  text-shadow: #666 0em -0.8em 6em, #58f 0em -0.3em 2em;\n}\na.internalLink:hover, a.externalLink:hover {\n  color: #9Cf;\n  text-decoration: none;\n  text-shadow: #666 0em -0.8em 3em, #58f 0em -0.3em 1em;\n}\n#sidebar, #sidebar:hover {\n  background:#000;\n  left: 0;\n  top: 0;\n  width: 16.5em;\n  padding: 4em 2em 0em 4em;\n  height: 100%;\n  text-shadow: #444 -1.5em -0.75em 0.6em;\n}\n#sidebar #title,#sidebar #title:hover {\n  color:white;\n  font-size: 2em;\n}\n#sidebar #titleSeparator, #sidebar #share {\n  display:none;\n}\n@media screen and (max-width: 960px) {\n  #sidebar, #sidebar:hover {\n    width: 10em;\n    padding: 2em 1em 0em 2em;\n  }\n  #passages {\n    margin: 0 0 0 12em;\n  }\n}\n@media screen and (max-width: 640px) {\n  body {\n    background: -webkit-linear-gradient(90deg,  #666 0%,#111 40%) #000;\n    background: linear-gradient(90deg  #666 0%, #111 40%) #000;\n  }\n  #sidebar, #sidebar:hover {\n    width: 100%;\n    height: 6em;\n    padding: 2em 1em 0em 2em;\n    text-align:center;\n  }\n  #sidebar li { display:inline; margin-right: 2em; }\n  #sidebar #credits { display: none; }\n  #passages {\n    margin: 10em 0 0 0em;\n  }\n}</div><div tiddler="Warm Cabin" tags="" modified="201709051524" created="201709051524" twine-position="1270,430" modifier="twee">body {\n  margin: 0;\n  padding: 0;\n}\n#passages {\n  margin: 0 5% 0 5%;\n  padding: 2.5% 0 5% 0;\n  border-left: saddlebrown solid 1.5em;\n  height:auto;\n  background: #3d1d08;\n  background: -webkit-radial-gradient(center, ellipse cover,  #3d1d08 0%,#000000 80%);\n  background: radial-gradient(ellipse at center,  #3d1d08 0%,#000000 80%);\n}\n.header {\n  width: 25%;\n  border-top: saddlebrown solid 0.1em;\n  margin: auto;\n  padding: 0 0 2.5% 0;\n}\n.passage {\n  margin: 2em;\n  font-family: &quot;Georgia&quot;, serif;\n  font-size:2.2em; \n  color: peru;\n  text-shadow: sienna 0.05em 0.05em 0.05em;\n}\na.internalLink, a.externalLink {\n  color: burlywood;\n  text-shadow: peru 0.05em 0.05em 0.05em;\n}\na.internalLink:hover, a.externalLink:hover {\n  color: cornsilk;\n  text-decoration: none;\n  text-shadow: peru 0.05em 0.05em 0.05em;\n}\n#sidebar {\n\tdisplay:none;\n}</div><div tiddler="Styleswap" tags="script" modified="201709051524" created="201709051524" twine-position="566,14" modifier="twee">(function(){\n\nmacros['styleswap'] = {\n  handler: function(a,name,params) {\n    var ss = document.querySelector(&quot;style.swapsheet&quot;);\n    if (!ss) {\n      ss = document.createElement(&quot;style&quot;);\n      ss.className=&quot;swapsheet&quot;;\n      document.head.appendChild(ss);\n    }\n    ss.innerHTML = alterCSS(tale.get(params[0]).text);\n  }\n}\nvar bs = String.fromCharCode(92);\nWikifier.formatters.unshift({\n    name: &quot;continuedLine&quot;,\n    match: bs+bs,\n    handler: function(a) {\n        a.nextMatch = a.matchStart+2;\n    }\n});\n}());</div><div tiddler="Porthole" tags="" modified="201709051524" created="201709051524" twine-position="1270,290" modifier="twee">body {\n  width: 100%;\n  margin-left: 0;\n  text-align:center;\n}\n#passages {\n  position:relative;\n  text-align:left;\n  display:inline-block;\n  font-size: 1.5em;\n  background-color:skyblue;\n  background-image: -webkit-linear-gradient(top, #87ceeb 0%,#87ceeb 75%,#008eed 75%,#008eed 100%);\n  background-image: linear-gradient(to bottom, #87ceeb 0%,#87ceeb 75%,#008eed 75%,#008eed 100%);\n  width: 60em;\n  height: 60em;\n  border-radius: 30em;\n  border: darkgoldenrod 1em solid;\n  margin-left: 0;\n  padding-left: 0;\n}\n.passage {\n  position: absolute;\n text-align:center;\n  top: 20em;\n  bottom: 0;\n  margin: -10em 5em auto 5em;\n  display:inline-block;\n  width: 40em;\n  height: 40em;\n  overflow-y: hidden;\n  /*box-shadow: 0 0 2.5em 2.5em;*/\n}\na.internalLink, a.externalLink {\n  color: white;\n  font-size: 1.2em;\n}\na.internalLink:hover, a.externalLink:hover {\n  color: white;\n  text-decoration: none;\n  text-shadow: 0 0 0.5em white;\n}\n.passage .body {\n  color: white;\n}\n#sidebar {\n  display:none;\n}\n@media screen and (max-width: 960px) {\n  body { font-size: 55%; }\n}\n@media screen and (max-width: 840px) {\n  body { font-size: 45%; }\n}\n@media screen and (max-width: 720px) {\n  body { font-size: 40%; }\n}</div><div tiddler="StoryAuthor" tags="" modified="201709051636" created="201709051524" twine-position="545,166" modifier="twee">MultiMasky</div><div tiddler="Markp" tags="" modified="201709051527" created="201709051527" twine-position="872,16" modifier="twee">Bold text with ''bold markup''.\nItalic text with //italic markup//.\nUnderline text with __underline markup__.\nLinks with [[link markup|Lorem]]</div><div tiddler="Goto Macro" tags="script" modified="201709051524" created="201709051524" twine-position="699,16" modifier="twee">version.extensions.timedgotoMacro={major:1,minor:1,revision:0};macros[&quot;goto&quot;]=macros[&quot;timedgoto&quot;]={timer:null,handler:function(a,b,c,d){\nfunction cssTimeUnit(s){if(typeof s==&quot;string&quot;){if(s.slice(-2).toLowerCase()==&quot;ms&quot;){return Number(s.slice(0,-2))||0;\n}else{if(s.slice(-1).toLowerCase()==&quot;s&quot;){return Number(s.slice(0,-1))*1000||0;}}}throwError(a,s+&quot; isn't a CSS time unit&quot;);\nreturn 0;}var t,d,m,s;t=c[c.length-1];d=d.fullArgs();m=0;if(b!=&quot;goto&quot;){d=d.slice(0,d.lastIndexOf(t));\nm=cssTimeUnit(t);}d=eval(Wikifier.parse(d));if(d+&quot;&quot;){if(this.timer){clearTimeout(this.timer);\n}s=state.history[0].passage.title;this.timer=setTimeout(function(){if(state.history[0].passage.title==s){state.display(d,a);\n}},m);}}};</div></div></body></html>
